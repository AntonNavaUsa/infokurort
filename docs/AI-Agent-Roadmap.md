# –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞: AI-–∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç –¥–ª—è Ski Concierge

## üéØ –ó–∞–¥–∞—á–∏ AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞

1. **–ü–æ–Ω—è—Ç—å –∑–∞–ø—Ä–æ—Å —Ç—É—Ä–∏—Å—Ç–∞** - —É—Ä–æ–≤–µ–Ω—å –∫–∞—Ç–∞–Ω–∏—è, –¥–∞—Ç—ã, –±—é–¥–∂–µ—Ç, —Ñ–æ—Ä–º–∞—Ç –æ–±—É—á–µ–Ω–∏—è
2. **–ü–æ–¥–æ–±—Ä–∞—Ç—å —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–≤/–≥–∏–¥–æ–≤** - —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, –∫—É—Ä–æ—Ä—Ç, —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
3. **–û—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã** - –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, —É—Å–ª–æ–≤–∏—è, –ø—Ä–∞–≤–∏–ª–∞ –∫—É—Ä–æ—Ä—Ç–æ–≤
4. **–î–æ–≤–µ—Å—Ç–∏ –¥–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è** - –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ –∑–∞—è–≤–∫—É
5. **–†–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ "—É–º–Ω—ã–π –ª–æ–∫–∞–ª—å–Ω—ã–π –∫–æ–Ω—Å—å–µ—Ä–∂"** - –Ω–µ –∫–∞—Ç–∞–ª–æ–≥, –∞ —Å–æ–≤–µ—Ç—á–∏–∫

---

## üß† –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è

### LLM-—Å–ª–æ–π
- **–ú–æ–¥–µ–ª—å**: OpenAI GPT-4o-mini (–æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Ü–µ–Ω–∞/–∫–∞—á–µ—Å—Ç–≤–æ)
- **Fallback**: GPT-4o (–¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –∫–µ–π—Å–æ–≤)
- **–ü–æ–¥—Ö–æ–¥**: –ü—Ä–æ–º–ø—Ç-–∏–Ω–∂–∏–Ω–∏—Ä–∏–Ω–≥ + RAG (–ù–ï fine-tuning)
- **–ú–∏–Ω–∏–º—É–º –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–π** —á–µ—Ä–µ–∑ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π RAG –∏ guardrails

### –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –ª–æ–≥–∏–∫–∏: LangChain + LangGraph
**–ó–∞—á–µ–º:** –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏ –¥–∏–∞–ª–æ–≥–∞ —Å –≤–µ—Ç–≤–ª–µ–Ω–∏–µ–º

```
User intent ‚Üí Qualification ‚Üí Safety check ‚Üí 
Matching ‚Üí Offer ‚Üí Booking CTA
```

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –í–µ—Ç–≤–ª–µ–Ω–∏–µ: —Å–µ–º—å—è —Å –¥–µ—Ç—å–º–∏ / —Ñ—Ä–∏—Ä–∞–π–¥ / –Ω–æ–≤–∏—á–∫–∏
- –ö–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞ –æ—Ç–≤–µ—Ç–æ–≤
- –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ —É—Ç–æ—á–Ω–µ–Ω–∏—è
- –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π flow –∫ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—é

### RAG —á–µ—Ä–µ–∑ LlamaIndex
**–ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö:**
- –ò–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã (—É—Ä–æ–≤–µ–Ω—å, —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, –∫—É—Ä–æ—Ä—Ç, —Ü–µ–Ω—ã)
- –ì–∏–¥—ã (–º–∞—Ä—à—Ä—É—Ç—ã, —Å–µ–∑–æ–Ω–Ω–æ—Å—Ç—å, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è)
- –ü—Ä–æ–∫–∞—Ç—ã —Å–Ω–∞—Ä—è–∂–µ–Ω–∏—è
- –ü—Ä–∞–≤–∏–ª–∞ –∫—É—Ä–æ—Ä—Ç–æ–≤
- –≠–∫—Å–ø–µ—Ä—Ç–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç ("–ø–æ—á–µ–º—É –≤–∞–∂–Ω–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è")

**–í–µ–∫—Ç–æ—Ä–Ω–∞—è –ë–î:** Qdrant (self-host –¥–ª—è MVP, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ)

### –ü–∞–º—è—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: LangChain Memory
**–§—É–Ω–∫—Ü–∏–∏:**
- –ó–∞–ø–æ–º–∏–Ω–∞–µ—Ç –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è (—Å–µ–º—å—è —Å –¥–µ—Ç—å–º–∏, –Ω–æ–≤–∏—á–æ–∫)
- –ò—Å—Ç–æ—Ä–∏—é –≤–∏–∑–∏—Ç–æ–≤ –∫—É—Ä–æ—Ä—Ç–æ–≤
- –ë—é–¥–∂–µ—Ç –∏ –ø–æ–∂–µ–ª–∞–Ω–∏—è
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∞–ø—Å–µ–π–ª–∞

### –ö–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞
- Intent-–¥–µ—Ç–µ–∫—Ü–∏—è —á–µ—Ä–µ–∑ LLM
- Guardrails (–∑–∞–ø—Ä–µ—Ç –æ–ø–∞—Å–Ω—ã—Ö —Å–æ–≤–µ—Ç–æ–≤)
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Backend
- **AI Orchestration**: LangChain + LangGraph
- **RAG Engine**: LlamaIndex
- **Vector DB**: Qdrant (self-hosted)
- **LLM**: OpenAI GPT-4o-mini / GPT-4o
- **Memory**: LangChain ConversationBufferMemory
- **API**: Express.js / Fastify
- **Database**: Supabase (PostgreSQL + –≤–µ–∫—Ç–æ—Ä—ã)

### Frontend
- ‚úÖ React + TypeScript
- ‚úÖ –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π `ChatInterface.tsx`
- **State**: Zustand (–¥–ª—è –ø–∞–º—è—Ç–∏ —á–∞—Ç–∞)

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- **–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (MVP)**: Telegram Bot + Email
- **CRM (–ø–æ–∑–∂–µ)**: MCP (Model Context Protocol) –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞**: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ–Ω—Ç–æ–≤ –∏ –∫–æ–Ω–≤–µ—Ä—Å–∏–π

---

## üìä –≠—Ç–∞–ø—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### üü¢ –§–∞–∑–∞ 0: –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (DONE)

‚úÖ **–ë–∞–∑–æ–≤—ã–π AI —á–∞—Ç**
- OpenAI GPT-4 –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- –ü—Ä–æ—Å—Ç–æ–π –ø—Ä–æ–º–ø—Ç (~8000 —Ç–æ–∫–µ–Ω–æ–≤)
- Function calling (calculate_price, get_resort_info, create_booking_draft)
- localStorage –¥–ª—è –∑–∞—è–≤–æ–∫
- –†–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –¥–æ—Ä–æ–≥–æ ($2.40 –∑–∞ 100 —Å–æ–æ–±—â–µ–Ω–∏–π)

---

### üü° –§–∞–∑–∞ 1: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ RAG (1-2 –Ω–µ–¥–µ–ª–∏)

#### 1.1 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
npm install langchain @langchain/openai @langchain/community
npm install llamaindex qdrant-client
npm install zod dotenv
```

#### 1.2 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Qdrant (–≤–µ–∫—Ç–æ—Ä–Ω–∞—è –ë–î)
```typescript
// src/lib/vector/qdrant-setup.ts
import { QdrantClient } from '@qdrant/js-client-rest';

const client = new QdrantClient({
  url: process.env.QDRANT_URL || 'http://localhost:6333',
});

// –°–æ–∑–¥–∞—ë–º –∫–æ–ª–ª–µ–∫—Ü–∏—é –¥–ª—è –∑–Ω–∞–Ω–∏–π
await client.createCollection('ski_knowledge', {
  vectors: {
    size: 1536, // OpenAI embeddings
    distance: 'Cosine',
  },
});
```

**–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ Qdrant:**
```bash
# Docker (–ª–æ–∫–∞–ª—å–Ω–æ)
docker run -p 6333:6333 qdrant/qdrant

# –ò–ª–∏ Qdrant Cloud (–±–µ—Å–ø–ª–∞—Ç–Ω–æ –¥–æ 1GB)
# https://cloud.qdrant.io
```

#### 1.3 –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ LlamaIndex
```typescript
// src/lib/rag/indexer.ts
import { VectorStoreIndex, SimpleDirectoryReader } from 'llamaindex';
import { QdrantVectorStore } from 'llamaindex/vector-stores/QdrantVectorStore';

// –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ
const documents = await new SimpleDirectoryReader().loadData({
  directoryPath: './knowledge-base',
});

// –°–æ–∑–¥–∞—ë–º –∏–Ω–¥–µ–∫—Å
const vectorStore = new QdrantVectorStore({
  url: 'http://localhost:6333',
  collectionName: 'ski_knowledge',
});

const index = await VectorStoreIndex.fromDocuments(documents, {
  vectorStore,
});
```

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ knowledge-base:**
```
knowledge-base/
‚îú‚îÄ‚îÄ resorts/
‚îÇ   ‚îú‚îÄ‚îÄ roza-hutor.md
‚îÇ   ‚îú‚îÄ‚îÄ krasnaya-polyana.md
‚îÇ   ‚îî‚îÄ‚îÄ gazprom.md
‚îú‚îÄ‚îÄ instructors/
‚îÇ   ‚îú‚îÄ‚îÄ certification.md
‚îÇ   ‚îî‚îÄ‚îÄ safety-rules.md
‚îú‚îÄ‚îÄ pricing/
‚îÇ   ‚îî‚îÄ‚îÄ seasonal-rates.md
‚îî‚îÄ‚îÄ faq/
    ‚îú‚îÄ‚îÄ beginners.md
    ‚îî‚îÄ‚îÄ equipment.md
```

#### 1.4 LangChain + RAG –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
```typescript
// src/lib/ai/langchain-agent.ts
import { ChatOpenAI } from '@langchain/openai';
import { VectorStoreRetriever } from '@langchain/core/retrievers';
import { createRetrievalChain } from 'langchain/chains/retrieval';
import { ChatPromptTemplate } from '@langchain/core/prompts';

const llm = new ChatOpenAI({
  modelName: 'gpt-4o-mini',
  temperature: 0.7,
});

// Retriever –∏–∑ Qdrant
const retriever = new VectorStoreRetriever({
  vectorStore: qdrantStore,
  k: 5, // —Ç–æ–ø-5 —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
});

// –ü—Ä–æ–º–ø—Ç —Å RAG
const prompt = ChatPromptTemplate.fromMessages([
  ['system', `–¢—ã - Ski Concierge AI. 
  
  –ò—Å–ø–æ–ª—å–∑—É–π –¢–û–õ–¨–ö–û –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –Ω–∏–∂–µ –¥–ª—è –æ—Ç–≤–µ—Ç–æ–≤.
  –ï—Å–ª–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –Ω–µ—Ç - —Å–∫–∞–∂–∏ —á–µ—Å—Ç–Ω–æ.
  
  –ö–û–ù–¢–ï–ö–°–¢:
  {context}
  
  –°–¢–ò–õ–¨:
  - –î—Ä—É–∂–µ–ª—é–±–Ω—ã–π —ç–∫—Å–ø–µ—Ä—Ç
  - –ó–∞–¥–∞–≤–∞–π —É—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã
  - –ü–æ–¥–≤–æ–¥–∏ –∫ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—é
  `],
  ['human', '{input}'],
]);

// –¶–µ–ø–æ—á–∫–∞ RAG
const chain = await createRetrievalChain({
  retriever,
  combineDocsChain: createStuffDocumentsChain({ llm, prompt }),
});
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç –§–∞–∑—ã 1:**
- ‚úÖ –ü—Ä–æ–º–ø—Ç —É–º–µ–Ω—å—à–µ–Ω –¥–æ ~500 —Ç–æ–∫–µ–Ω–æ–≤
- ‚úÖ –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ RAG
- ‚úÖ –°—Ç–æ–∏–º–æ—Å—Ç—å: $0.40 –∑–∞ 100 —Å–æ–æ–±—â–µ–Ω–∏–π (–≤ 6 —Ä–∞–∑ –¥–µ—à–µ–≤–ª–µ)
- ‚úÖ –õ–µ–≥–∫–æ –æ–±–Ω–æ–≤–ª—è—Ç—å knowledge base

---

### üü° –§–∞–∑–∞ 2: LangGraph –¥–ª—è —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ (2-3 –Ω–µ–¥–µ–ª–∏)

#### 2.1 –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ flow –¥–∏–∞–ª–æ–≥–∞
```typescript
// src/lib/ai/conversation-graph.ts
import { StateGraph, END } from '@langchain/langgraph';

// –°–æ—Å—Ç–æ—è–Ω–∏—è –¥–∏–∞–ª–æ–≥–∞
type ConversationState = {
  intent: string;
  userProfile: {
    level?: string;
    dates?: string;
    budget?: string;
    groupType?: 'individual' | 'group' | 'family';
  };
  recommendations: any[];
  stage: 'greeting' | 'qualification' | 'matching' | 'offer' | 'booking';
};

// –ì—Ä–∞—Ñ
const workflow = new StateGraph<ConversationState>({
  channels: {
    intent: null,
    userProfile: {},
    recommendations: [],
    stage: 'greeting',
  },
});

// –£–∑–ª—ã
workflow.addNode('detect_intent', detectIntent);
workflow.addNode('qualify_user', qualifyUser);
workflow.addNode('safety_check', safetyCheck);
workflow.addNode('match_instructors', matchInstructors);
workflow.addNode('present_offer', presentOffer);
workflow.addNode('handle_booking', handleBooking);

// –ü–µ—Ä–µ—Ö–æ–¥—ã
workflow.addEdge('detect_intent', 'qualify_user');
workflow.addConditionalEdges('qualify_user', shouldCheckSafety, {
  yes: 'safety_check',
  no: 'match_instructors',
});
workflow.addEdge('match_instructors', 'present_offer');
workflow.addEdge('present_offer', 'handle_booking');

workflow.setEntryPoint('detect_intent');
```

#### 2.2 –ü—Ä–∏–º–µ—Ä —É–∑–ª–∞: –¥–µ—Ç–µ–∫—Ü–∏—è –Ω–∞–º–µ—Ä–µ–Ω–∏—è
```typescript
async function detectIntent(state: ConversationState, messages) {
  const llm = new ChatOpenAI({ modelName: 'gpt-4o-mini' });
  
  const prompt = `–û–ø—Ä–µ–¥–µ–ª–∏ –Ω–∞–º–µ—Ä–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
  
  –°–æ–æ–±—â–µ–Ω–∏–µ: "${messages[messages.length - 1].content}"
  
  –í–æ–∑–º–æ–∂–Ω—ã–µ –∏–Ω—Ç–µ–Ω—Ç—ã:
  - info_resort: —Ö–æ—á–µ—Ç —É–∑–Ω–∞—Ç—å –æ –∫—É—Ä–æ—Ä—Ç–µ
  - price_inquiry: —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç –æ —Ü–µ–Ω–∞—Ö
  - book_lesson: –≥–æ—Ç–æ–≤ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å
  - safety_concern: –≤–æ–ø—Ä–æ—Å—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
  - equipment: –ø—Ä–æ —Å–Ω–∞—Ä—è–∂–µ–Ω–∏–µ
  
  –û—Ç–≤–µ—Ç—å –æ–¥–Ω–∏–º —Å–ª–æ–≤–æ–º.`;
  
  const intent = await llm.invoke(prompt);
  
  return { ...state, intent: intent.content };
}
```

#### 2.3 –£–∑–µ–ª: –ø–æ–¥–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–≤
```typescript
async function matchInstructors(state: ConversationState) {
  const { userProfile } = state;
  
  // RAG –ø–æ–∏—Å–∫ –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–≤
  const query = `
    –£—Ä–æ–≤–µ–Ω—å: ${userProfile.level}
    –î–∞—Ç—ã: ${userProfile.dates}
    –ì—Ä—É–ø–ø–∞: ${userProfile.groupType}
  `;
  
  const results = await retriever.getRelevantDocuments(query);
  
  // –†–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ
  const recommendations = rankInstructors(results, userProfile);
  
  return { ...state, recommendations, stage: 'offer' };
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç –§–∞–∑—ã 2:**
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π flow –¥–∏–∞–ª–æ–≥–∞
- ‚úÖ –í–µ—Ç–≤–ª–µ–Ω–∏–µ –ø–æ–¥ —Ä–∞–∑–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
- ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞ –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ
- ‚úÖ –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –∫ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—é

---

### üü° –§–∞–∑–∞ 3: –ü–∞–º—è—Ç—å –∏ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è (1 –Ω–µ–¥–µ–ª—è)

#### 3.1 LangChain Memory –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
```typescript
// src/lib/ai/memory.ts
import { BufferMemory } from 'langchain/memory';
import { ChatMessageHistory } from 'langchain/stores/message/in_memory';

// –•—Ä–∞–Ω–∏–ª–∏—â–µ —Å–µ—Å—Å–∏–π
const sessionStore = new Map<string, BufferMemory>();

export function getMemory(sessionId: string) {
  if (!sessionStore.has(sessionId)) {
    sessionStore.set(sessionId, new BufferMemory({
      chatHistory: new ChatMessageHistory(),
      memoryKey: 'chat_history',
      returnMessages: true,
    }));
  }
  return sessionStore.get(sessionId)!;
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const memory = getMemory(userId);
await memory.saveContext(
  { input: userMessage },
  { output: aiResponse }
);
```

#### 3.2 –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Supabase
```sql
-- –¢–∞–±–ª–∏—Ü–∞ –ø—Ä–æ—Ñ–∏–ª–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
CREATE TABLE user_profiles (
  id UUID PRIMARY KEY,
  preferences JSONB, -- {level: 'beginner', visited: ['roza-hutor']}
  booking_history JSONB[],
  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- –¢—Ä–∏–≥–≥–µ—Ä –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤–µ–∫—Ç–æ—Ä–æ–≤ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏
CREATE OR REPLACE FUNCTION update_user_embedding()
RETURNS TRIGGER AS $$
BEGIN
  NEW.embedding = generate_embedding(NEW.preferences::text);
  RETURN NEW;
END;
$$ LANGUAGE plpgsql;
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç –§–∞–∑—ã 3:**
- ‚úÖ –ó–∞–ø–æ–º–∏–Ω–∞–µ—Ç –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –¥–ª—è –∞–ø—Å–µ–π–ª–∞

---

### üü° –§–∞–∑–∞ 4: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (1-2 –Ω–µ–¥–µ–ª–∏)

#### 4.1 Telegram Bot —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
```typescript
// src/lib/integrations/telegram.ts
import { Telegraf } from 'telegraf';

const bot = new Telegraf(process.env.TELEGRAM_BOT_TOKEN!);

export async function sendBookingNotification(booking: BookingDraft) {
  const message = `
üéø –ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞ #${booking.id}

üë§ ${booking.name}
üìû ${booking.phone}
üìß ${booking.email}

üèî –ö—É—Ä–æ—Ä—Ç: ${booking.resort}
üìÖ –î–∞—Ç—ã: ${booking.dates}
üë• –¢–∏–ø: ${booking.category}
üìö –ü—Ä–æ–≥—Ä–∞–º–º–∞: ${booking.program}
üóì –î–Ω–µ–π: ${booking.days}

üí¨ –ü–æ–∂–µ–ª–∞–Ω–∏—è: ${booking.specialRequests || '–Ω–µ—Ç'}
`;

  await bot.telegram.sendMessage(
    process.env.TELEGRAM_CHAT_ID!,
    message
  );
}
```

#### 4.2 Email —á–µ—Ä–µ–∑ Resend
```typescript
// src/lib/integrations/email.ts
import { Resend } from 'resend';

const resend = new Resend(process.env.RESEND_API_KEY);

export async function sendBookingEmail(booking: BookingDraft) {
  await resend.emails.send({
    from: 'bookings@ski-concierge.ru',
    to: ['manager@ski-concierge.ru'],
    subject: `–ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞: ${booking.name}`,
    html: `<h2>–î–µ—Ç–∞–ª–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</h2>...`,
  });
  
  // –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—É
  await resend.emails.send({
    from: 'noreply@ski-concierge.ru',
    to: [booking.email!],
    subject: '–í–∞—à–∞ –∑–∞—è–≤–∫–∞ –ø—Ä–∏–Ω—è—Ç–∞',
    html: `<p>–°–ø–∞—Å–∏–±–æ! –°–≤—è–∂–µ–º—Å—è –≤ —Ç–µ—á–µ–Ω–∏–µ —á–∞—Å–∞.</p>`,
  });
}
```

---

### üîµ –§–∞–∑–∞ 5: Guardrails –∏ –∫–∞—á–µ—Å—Ç–≤–æ (1 –Ω–µ–¥–µ–ª—è)

#### 5.1 –í–∞–ª–∏–¥–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤
```typescript
// src/lib/ai/guardrails.ts
import { z } from 'zod';

const SafeRecommendationSchema = z.object({
  resort: z.enum(['roza-hutor', 'krasnaya-polyana', 'gazprom']),
  instructor_certified: z.boolean().refine(val => val === true),
  safety_notes: z.array(z.string()),
  price_within_budget: z.boolean(),
});

export async function validateRecommendation(response: any) {
  // –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ AI –Ω–µ —Å–æ–≤–µ—Ç—É–µ—Ç –æ–ø–∞—Å–Ω–æ–µ
  const parsed = SafeRecommendationSchema.safeParse(response);
  
  if (!parsed.success) {
    throw new Error('AI –¥–∞–ª –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—É—é —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—é');
  }
  
  return parsed.data;
}
```

#### 5.2 –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–∞—á–µ—Å—Ç–≤–∞
```typescript
// src/lib/analytics/tracking.ts
export async function trackConversation(event: {
  sessionId: string;
  intent: string;
  stage: string;
  converted: boolean;
  timestamp: Date;
}) {
  // –õ–æ–≥–∏—Ä—É–µ–º –≤ Supabase
  await supabase.from('conversation_analytics').insert(event);
}

// –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:
// - –°—Ä–µ–¥–Ω—è—è –¥–ª–∏–Ω–∞ –¥–∏–∞–ª–æ–≥–∞ –¥–æ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏
// - –¢–æ–ø –∏–Ω—Ç–µ–Ω—Ç—ã
// - –ü—Ä–∏—á–∏–Ω—ã –æ—Ç–≤–∞–ª–æ–≤
// - –ö–∞—á–µ—Å—Ç–≤–æ –ø–æ–¥–±–æ—Ä–∞
```

---

## üìà –ò—Ç–æ–≥–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   User (React)  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  ChatInterface  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   LangChain Orchestrator    ‚îÇ
‚îÇ  (conversation-graph.ts)    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ          ‚îÇ         ‚îÇ          ‚îÇ
    ‚ñº          ‚ñº         ‚ñº          ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇLlamaIdx‚îÇ ‚îÇMemory‚îÇ ‚îÇGuardrls‚îÇ ‚îÇFunctions‚îÇ
‚îÇ  RAG   ‚îÇ ‚îÇ      ‚îÇ ‚îÇ        ‚îÇ ‚îÇ         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    ‚îÇ         ‚îÇ                      ‚îÇ
    ‚ñº         ‚ñº                      ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Qdrant  ‚îÇ ‚îÇ Supabase ‚îÇ      ‚îÇ Pricing  ‚îÇ
‚îÇ Vectors ‚îÇ ‚îÇ Profiles ‚îÇ      ‚îÇ   API    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                    ‚îÇ
                                    ‚ñº
                          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                          ‚îÇ Booking System   ‚îÇ
                          ‚îÇ (Telegram+Email) ‚îÇ
                          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å –∏ –º–µ—Ç—Ä–∏–∫–∏

### –°—Ç–æ–∏–º–æ—Å—Ç—å –Ω–∞ 1000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π/–º–µ—Å—è—Ü

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–æ–∏–º–æ—Å—Ç—å |
|-----------|-----------|
| GPT-4o-mini (4 —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è) | $12 |
| Qdrant Cloud (1GB –≤–µ–∫—Ç–æ—Ä–æ–≤) | –ë–µ—Å–ø–ª–∞—Ç–Ω–æ |
| Supabase (–¥–æ 500MB) | –ë–µ—Å–ø–ª–∞—Ç–Ω–æ |
| Resend (email, 3000 –ø–∏—Å–µ–º) | –ë–µ—Å–ø–ª–∞—Ç–Ω–æ |
| **–ò–¢–û–ì–û** | **~$12/–º–µ—Å—è—Ü** |

### –ù–∞ 10,000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π/–º–µ—Å—è—Ü
- GPT-4o-mini: $120
- Qdrant Pro: $25
- Supabase Pro: $25
- Resend: $20
- **–ò–¢–û–ì–û: ~$190/–º–µ—Å—è—Ü**

### –û–∂–∏–¥–∞–µ–º—ã–µ –º–µ—Ç—Ä–∏–∫–∏
- **–ö–æ–Ω–≤–µ—Ä—Å–∏—è –≤ –∑–∞—è–≤–∫—É**: 15-25%
- **–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –¥–æ –±—Ä–æ–Ω–∏**: 4-7 —Å–æ–æ–±—â–µ–Ω–∏–π
- **–°—Ç–æ–∏–º–æ—Å—Ç—å –ª–∏–¥–∞**: $0.05-0.10
- **–¢–æ—á–Ω–æ—Å—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π**: >90% (–±–ª–∞–≥–æ–¥–∞—Ä—è RAG)

---

## üöÄ Roadmap –ø–æ –Ω–µ–¥–µ–ª—è–º

| –ù–µ–¥–µ–ª—è | –ó–∞–¥–∞—á–∏ | –†–µ–∑—É–ª—å—Ç–∞—Ç |
|--------|--------|-----------|
| **1-2** | –£—Å—Ç–∞–Ω–æ–≤–∫–∞ LangChain, Qdrant, –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö | RAG —Ä–∞–±–æ—Ç–∞–µ—Ç |
| **3-4** | LangGraph flow, –¥–µ—Ç–µ–∫—Ü–∏—è –∏–Ω—Ç–µ–Ω—Ç–æ–≤ | –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–∏–∞–ª–æ–≥ |
| **5** | –ü–∞–º—è—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, Supabase –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è | –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è |
| **6-7** | Telegram + Email –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è | –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ |
| **8** | Guardrails, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –∑–∞–ø—É—Å–∫ | Production ready |

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞ MVP

1. **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ:**
   - ‚úÖ RAG –Ω–∞—Ö–æ–¥–∏—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é (>80% —Ç–æ—á–Ω–æ—Å—Ç—å)
   - ‚úÖ –°—Ç–æ–∏–º–æ—Å—Ç—å <$0.50 –∑–∞ 100 —Å–æ–æ–±—â–µ–Ω–∏–π
   - ‚úÖ –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ <3 —Å–µ–∫—É–Ω–¥
   - ‚úÖ –ù–µ—Ç –æ–ø–∞—Å–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π (guardrails —Ä–∞–±–æ—Ç–∞—é—Ç)

2. **–ë–∏–∑–Ω–µ—Å:**
   - ‚úÖ –ö–æ–Ω–≤–µ—Ä—Å–∏—è –≤ –∑–∞—è–≤–∫—É >10%
   - ‚úÖ <5 —Å–æ–æ–±—â–µ–Ω–∏–π –¥–æ –∑–∞—è–≤–∫–∏
   - ‚úÖ –ú–µ–Ω–µ–¥–∂–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç –ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç–∞
   - ‚úÖ –ö–ª–∏–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ

3. **UX:**
   - ‚úÖ –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –¥–∏–∞–ª–æ–≥ (–Ω–µ —Ä–æ–±–æ—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π)
   - ‚úÖ –ü–æ–Ω–∏–º–∞–µ—Ç —Ä–∞–∑–≥–æ–≤–æ—Ä–Ω—ã–π —è–∑—ã–∫
   - ‚úÖ –ù–µ —Ç–µ—Ä—è–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç
   - ‚úÖ –ù–µ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è

---

## üîß –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

### –ï—Å–ª–∏ –±—é–¥–∂–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **GPT-3.5-turbo** –≤–º–µ—Å—Ç–æ GPT-4o-mini (–≤ 3 —Ä–∞–∑–∞ –¥–µ—à–µ–≤–ª–µ)
- **ChromaDB** –≤–º–µ—Å—Ç–æ Qdrant (–ª–æ–∫–∞–ª—å–Ω–æ, –±–µ—Å–ø–ª–∞—Ç–Ω–æ)
- –ë–µ–∑ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏ (—É–±—Ä–∞—Ç—å Supabase profiles)

### –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å:
- **GPT-4o** –¥–ª—è —Ñ–∏–Ω–∞–ª—å–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
- **Fine-tuning** –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∏–∞–ª–æ–≥–∞—Ö (—á–µ—Ä–µ–∑ 1-2 –º–µ—Å—è—Ü–∞)
- **Claude 3 Opus** –∫–∞–∫ fallback –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –∫–µ–π—Å–æ–≤

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [LangChain Docs](https://js.langchain.com/docs/)
- [LangGraph Tutorial](https://langchain-ai.github.io/langgraphjs/)
- [LlamaIndex Guide](https://ts.llamaindex.ai/)
- [Qdrant Documentation](https://qdrant.tech/documentation/)
- [RAG Best Practices](https://www.pinecone.io/learn/retrieval-augmented-generation/)

---

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ù–∞—á–∞—Ç—å —Å –§–∞–∑—ã 1 (RAG) - —ç—Ç–æ –¥–∞—Å—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —ç–∫–æ–Ω–æ–º–∏—é –∏ —É–ª—É—á—à–∏—Ç –∫–∞—á–µ—Å—Ç–≤–æ –æ—Ç–≤–µ—Ç–æ–≤. –ì–æ—Ç–æ–≤ –ø–æ–º–æ—á—å —Å –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ–º! üéø
      { role: "system", content: SYSTEM_PROMPT },
      ...enrichedContext,
      ...messages
    ],
    functions: [
      calculatePriceFunction,
      checkAvailabilityFunction,
      createBookingFunction
    ]
  });
  
  // 4. –û–±—Ä–∞–±–æ—Ç–∫–∞ function calls
  if (response.function_call) {
    return handleFunctionCall(response);
  }
  
  return response.choices[0].message;
}
```

#### 2.2 Function Calling –¥–ª—è –¥–µ–π—Å—Ç–≤–∏–π
- [x] `calculate_price` - —Ä–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –ø–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º
- [ ] ~~`check_availability`~~ - –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–∫–∞
- [x] `create_booking_draft` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞—è–≤–∫–∏ –≤ JSON
- [x] `get_resort_info` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫—É—Ä–æ—Ä—Ç–µ
- [ ] ~~`search_instructors`~~ - –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–∫–∞

#### 2.3 –•—Ä–∞–Ω–∏–ª–∏—â–µ –∑–∞—è–≤–æ–∫ (–≤—Ä–µ–º–µ–Ω–Ω–æ–µ)
```typescript
// src/data/leads.json
[
  {
    "id": "uuid",
    "timestamp": "2025-12-26T10:00:00",
    "name": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
    "phone": "+7 999 123-45-67",
    "email": "ivan@example.com",
    "requirements": {
      "resort": "roza-hutor",
      "program": "ind-2h-1p",
      "dates": "28-31 –¥–µ–∫–∞–±—Ä—è",
      "participants": 2
    },
    "estimatedPrice": 15200,
    "chatTranscript": [...]
  }
]
```

---

### –≠—Ç–∞–ø 3: Frontend –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (1-2 –Ω–µ–¥–µ–ª–∏)

#### 3.1 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ ChatInterface
```typescript
// src/components/chat/ChatInterface.tsx
import { useChat } from '@/hooks/useAIChat';

export function ChatInterface() {
  const { 
    messages, 
    sendMessage, 
    isLoading,
    suggestedActions 
  } = useAIChat();
  
  // –ü–æ–∫–∞–∑ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π –æ—Ç AI
  {suggestedActions.map(action => (
    <Button onClick={() => handleAction(action)}>
      {action.label}
    </Button>
  ))}
}
```

#### 3.2 –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- [ ] `PriceCard` - –∫–∞—Ä—Ç–æ—á–∫–∞ —Å —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω–æ–π —Ü–µ–Ω–æ–π
- [ ] `BookingForm` - —Ñ–æ—Ä–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- [ ] `InstructorCard` - –∫–∞—Ä—Ç–æ—á–∫–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞
- [ ] `CalendarPicker` - –≤—ã–±–æ—Ä –¥–∞—Ç

#### 3.3 WebSocket –¥–ª—è real-time
```typescript
// src/lib/socket.ts
import io from 'socket.io-client';

export const socket = io(process.env.NEXT_PUBLIC_WS_URL, {
  autoConnect: false
});

socket.on('ai_response', (data) => {
  // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞ AI
});

socket.on('typing', (isTyping) => {
  // –ü–æ–∫–∞–∑ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –ø–µ—á–∞—Ç–∞–Ω–∏—è
});
```

---

### –≠—Ç–∞–ø 4: –£–º–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (2-3 –Ω–µ–¥–µ–ª–∏)

#### 4.1 RAG (Retrieval Augmented Generation)
```typescript
// –í–µ–∫—Ç–æ—Ä–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π
import { OpenAIEmbeddings } from 'langchain/embeddings/openai';
import { PineconeStore } from 'langchain/vectorstores/pinecone';

// –ò–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
await indexDocuments([
  'resort-descriptions',
  'instructor-profiles',
  'faq-database'
]);

// –ü–æ–∏—Å–∫ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
const relevantDocs = await vectorStore.similaritySearch(
  userQuery, 
  k: 5
);
```

#### 4.2 –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è –ø–∞–º—è—Ç—å
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π –∫–ª–∏–µ–Ω—Ç–∞ –≤ —Ä–∞–º–∫–∞—Ö —Å–µ—Å—Å–∏–∏
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤–∞–∂–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –º–µ–∂–¥—É —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
- –£–º–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ —Å–ª–µ–¥—É—é—â–∏—Ö —à–∞–≥–æ–≤

#### 4.3 Sentiment Analysis
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞
- –ê–¥–∞–ø—Ç–∞—Ü–∏—è —Ç–æ–Ω–∞ –æ—Ç–≤–µ—Ç–æ–≤
- –≠—Å–∫–∞–ª–∞—Ü–∏—è –∫ –æ–ø–µ—Ä–∞—Ç–æ—Ä—É –ø—Ä–∏ –Ω–µ–≥–∞—Ç–∏–≤–µ

---

### –≠—Ç–∞–ø 5: –í–æ—Ä–æ–Ω–∫–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (2 –Ω–µ–¥–µ–ª–∏)

#### 5.1 –≠—Ç–∞–ø—ã –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ª–∏–¥–∞
1. **–ó–Ω–∞–∫–æ–º—Å—Ç–≤–æ** - —É–∑–Ω–∞—Ç—å –∏–º—è, –æ–ø—ã—Ç –∫–∞—Ç–∞–Ω–∏—è
2. **–ü–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏** - —Ü–µ–ª–∏ –æ–±—É—á–µ–Ω–∏—è, –¥–∞—Ç—ã, –±—é–¥–∂–µ—Ç
3. **–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ** - –ø–æ–¥–±–æ—Ä –ø—Ä–æ–≥—Ä–∞–º–º—ã
4. **–†–∞—Å—á–µ—Ç** - –ø–æ–∫–∞–∑ —Ü–µ–Ω—ã
5. **–ö–æ–Ω—Ç–∞–∫—Ç—ã** - —Å–±–æ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞/email
6. **–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** - –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞—è–≤–∫–∏

#### 5.2 –¢—Ä–∏–≥–≥–µ—Ä—ã –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞
```typescript
const escalationTriggers = {
  complexQuestion: sentiment < -0.5,
  repeatedQuestions: questionCount > 3,
  requestOperator: userMessage.includes('–æ–ø–µ—Ä–∞—Ç–æ—Ä'),
  highValue: estimatedPrice > 50000
};
```

#### 5.3 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CRM
```typescript
// –û—Ç–ø—Ä–∞–≤–∫–∞ –ª–∏–¥–∞ –≤ CRM
await createLead({
  source: 'ai_chat',
  name: session.name,
  phone: session.phone,
  requirements: session.requirements,
  estimatedValue: calculatedPrice,
  chatTranscript: messages
});
```

---

### –≠—Ç–∞–ø 6: –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (ongoing)

#### 6.1 –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è
- Conversion rate (—á–∞—Ç ‚Üí –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ)
- –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –¥–æ –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –ü—Ä–æ—Ü–µ–Ω—Ç —ç—Å–∫–∞–ª–∞—Ü–∏–π –∫ –æ–ø–µ—Ä–∞—Ç–æ—Ä—É
- –£–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω–Ω–æ—Å—Ç—å –∫–ª–∏–µ–Ω—Ç–æ–≤
- –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã –±–µ–∑ –æ—Ç–≤–µ—Ç–∞

#### 6.2 A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –†–∞–∑–Ω—ã–µ —Å—Ç–∏–ª–∏ –ø—Ä–æ–º–ø—Ç–æ–≤
- –ú–æ–º–µ–Ω—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- –§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏ –≤–æ–ø—Ä–æ—Å–æ–≤

#### 6.3 Continuous Learning
```typescript
// –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è
await logFeedback({
  sessionId,
  messageId,
  wasHelpful: true/false,
  comment: userFeedback
});
```

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –º–æ–¥–µ—Ä–∞—Ü–∏—è

### –ó–∞—â–∏—Ç–∞ –¥–∞–Ω–Ω—ã—Ö
- [ ] –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- [ ] GDPR compliance
- [ ] –ú–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ –ª–æ–≥–∞—Ö

### –ú–æ–¥–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- [ ] –§–∏–ª—å—Ç—Ä –Ω–µ—Ü–µ–Ω–∑—É—Ä–Ω–æ–π –ª–µ–∫—Å–∏–∫–∏
- [ ] –ó–∞—â–∏—Ç–∞ –æ—Ç prompt injection
- [ ] Rate limiting –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —Å–ø–∞–º–∞

---

## üí∞ –û—Ü–µ–Ω–∫–∞ –±—é–¥–∂–µ—Ç–∞

### API costs (–µ–∂–µ–º–µ—Å—è—á–Ω–æ)
- OpenAI API: ~$200-500 (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç—Ä–∞—Ñ–∏–∫–∞)
- Vector DB (Pinecone): ~$70
- Hosting: ~$50-100

### Development time
- **Total**: 8-12 –Ω–µ–¥–µ–ª—å
- Backend: 4-5 –Ω–µ–¥–µ–ª—å
- Frontend: 2-3 –Ω–µ–¥–µ–ª–∏
- Testing & QA: 2 –Ω–µ–¥–µ–ª–∏
- Deployment: 1 –Ω–µ–¥–µ–ª—è

---

## üìà –ü–ª–∞–Ω –∑–∞–ø—É—Å–∫–∞

### Phase 1: MVP (4 –Ω–µ–¥–µ–ª–∏)
- ‚úÖ –ë–∞–∑–æ–≤—ã–π AI —á–∞—Ç —Å GPT-4
- ‚úÖ –ü—Ä–æ—Å—Ç—ã–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã
- ‚úÖ –†–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏
- ‚úÖ –°–±–æ—Ä –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤

### Phase 2: Enhanced (4 –Ω–µ–¥–µ–ª–∏)
- ‚úÖ RAG —Å –±–∞–∑–æ–π –∑–Ω–∞–Ω–∏–π
- ‚úÖ Function calli (–û–ë–ù–û–í–õ–ï–ù–û)

### Phase 1: MVP (3-5 –¥–Ω–µ–π) ‚ö° –¢–ï–ö–£–©–ò–ô –≠–¢–ê–ü
- [x] API –∫–ª—é—á OpenAI –ø–æ–ª—É—á–µ–Ω
- [ ] –ë–∞–∑–æ–≤—ã–π AI —á–∞—Ç —Å GPT-4
- [ ] –ü—Ä–æ—Å—Ç—ã–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã (–±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π)
- [ ] –†–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–æ–º)
- [ ] –°–±–æ—Ä –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ JSON
- [ ] ‚úÖ –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ–ø–∏—Å–∞–Ω–∏–π –∫—É—Ä–æ—Ä—Ç–æ–≤
- [ ] ‚úÖ –ë–∞–∑–æ–≤—ã–µ FAQ

### Phase 2: Enhanced (2-3 –Ω–µ–¥–µ–ª–∏) - –ü–û–ó–ñ–ï
- [ ] –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ Supabase/PostgreSQL
- [ ] Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –∑–∞—è–≤–∫–µ
- [ ] –£–ª—É—á—à–µ–Ω–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ feedback
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª–µ–π –∏–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–≤

### Phase 3: Advanced (–ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏) - BACKLOG
- [ ] CRM –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [ ] –ö–∞–ª–µ–Ω–¥–∞—Ä—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
- [ ] RAG —Å –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –ë–î
- [ ] –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å–∞—Ç–∞–Ω–∏—è –∏–ª–∏ –±—É–¥–µ—Ç–µ –≤–ø–µ—Ä–≤—ã–µ?
    2. –ü–ª–∞–Ω–∏—Ä—É–µ—Ç–µ –æ–¥–∏–Ω –∏–ª–∏ —Å –∫–µ–º-—Ç–æ?
    3. –ù–∞ –∫–∞–∫–∏–µ –¥–∞—Ç—ã —Å–º–æ—Ç—Ä–∏—Ç–µ?

User: –í–ø–µ—Ä–≤—ã–µ, –±—É–¥—É —Å –∂–µ–Ω–æ–π, 28-31 –¥–µ–∫–∞–±—Ä—è
AI: –ó–∞–º–µ—á–∞—Ç–µ–ª—å–Ω–æ! –î–ª—è –≤–∞—Å –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥–æ–π–¥—É—Ç –≥—Ä—É–ø–ø–æ–≤—ã–µ –∑–∞–Ω—è—Ç–∏—è –¥–ª—è 
    –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö. –ù–∞ —ç—Ç–∏ –¥–∞—Ç—ã —Å–µ–π—á–∞—Å —Å–µ–∑–æ–Ω –ü–ò–ö.
    
    –†–µ–∫–æ–º–µ–Ω–¥—É—é –∫—É—Ä–æ—Ä—Ç "–†–æ–∑–∞ –•—É—Ç–æ—Ä":
    ‚Ä¢ –ì—Ä—É–ø–ø—ã –ø–æ 4-6 —á–µ–ª–æ–≤–µ–∫
    ‚Ä¢ –ó–∞–Ω—è—Ç–∏—è 2 —á–∞—Å–∞
    ‚Ä¢ –°—Ç–æ–∏–º–æ—Å—Ç—å: 4,800‚ÇΩ –∑–∞ —á–µ–ª–æ–≤–µ–∫–∞
    
    –ò–ª–∏ –º–æ–∂–µ–º –ø–æ–¥–æ–±—Ä–∞—Ç—å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–µ –∑–∞–Ω—è—Ç–∏–µ –¥–ª—è –≤–∞—Å –¥–≤–æ–∏—Ö?

User: –î–∞–≤–∞–π—Ç–µ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–µ
AI: –û—Ç–ª–∏—á–Ω–æ! –î–ª—è –¥–≤–æ–∏—Ö –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–µ –∑–∞–Ω—è—Ç–∏–µ –æ–±–æ–π–¥–µ—Ç—Å—è –≤ 15,200‚ÇΩ 
    –∑–∞ 2 —á–∞—Å–∞ (—Å–µ–∑–æ–Ω –ü–ò–ö).
    
    –•–æ—Ç–∏—Ç–µ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å? –ú–Ω–µ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è:
    ‚Ä¢ –í–∞—à–µ –∏–º—è
    ‚Ä¢ –¢–µ–ª–µ—Ñ–æ–Ω –¥–ª—è —Å–≤—è–∑–∏
    ‚Ä¢ Email –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –û–ø—ã—Ç–Ω—ã–π —Ä–∞–π–¥–µ—Ä
```
User: –•–æ—á—É —Ñ—Ä–∏—Ä–∞–π–¥ —Å –≥–∏–¥–æ–º
AI: –§—Ä–∏—Ä–∞–π–¥ - —ç—Ç–æ –∫—Ä—É—Ç–æ! üèî 
    –£ –≤–∞—Å –µ—Å—Ç—å –æ–ø—ã—Ç –∫–∞—Ç–∞–Ω–∏—è –≤–Ω–µ —Ç—Ä–∞—Å—Å?
    
User: –î–∞, –∫–∞—Ç–∞—é—Å—å 5 –ª–µ—Ç
AI: –°—É–ø–µ—Ä! –ù–∞ –∫—É—Ä–æ—Ä—Ç–µ –ì–∞–∑–ø—Ä–æ–º –µ—Å—Ç—å –æ—Ç–ª–∏—á–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –æ—Ç —à–∫–æ–ª—ã Riders.
    –¢–û–ü-–∏–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ê –ø—Ä–æ–≤–µ–¥–µ—Ç –≤–∞—Å –ø–æ –ª—É—á—à–∏–º —Å–ø–æ—Ç–∞–º.
    
    –°—Ç–æ–∏–º–æ—Å—Ç—å: 18,000‚ÇΩ –∑–∞ 2 —á–∞—Å–∞ (–¥–æ 2 —á–µ–ª–æ–≤–µ–∫)
    
    –ö–∞–∫–∏–µ –¥–∞—Ç—ã –≤–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É—é—Ç?
```

---

## üìö –†–µ—Å—É—Ä—Å—ã –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –ü–æ–ª–µ–∑–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
- [LangChain](https://js.langchain.com/) - —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è AI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- [Vercel AI SDK](https://sdk.vercel.ai/) - ready-to-use AI hooks
- [OpenAI Node.js](https://github.com/openai/openai-node)

### –†–µ—Ñ–µ—Ä–µ–Ω—Å—ã
- [ChatGPT UI patterns](https://www.patterns.app/chatgpt)
- [Conversational AI best practices](https://rasa.com/docs/)

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º

- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ 50+ —Ä–µ–∞–ª—å–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö
- [ ] Fallback –Ω–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–ª–µ—Ä—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [ ] Privacy policy –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- [ ] –û–±—É—á–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ —Ä–∞–±–æ—Ç–µ —Å AI
- [ ] A/B —Ç–µ—Å—Ç —Å –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π –≥—Ä—É–ø–ø–æ–π (10% —Ç—Ä–∞—Ñ–∏–∫–∞)

---

## üöÄ Next Steps

1. **–£—Ç–≤–µ—Ä–¥–∏—Ç—å —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫**
2. **–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –±–∞–∑—É –∑–Ω–∞–Ω–∏–π**
3. **–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ç–æ—Ç–∏–ø —Å mock-–¥–∞–Ω–Ω—ã–º–∏**
4. **–ó–∞–ø—É—Å—Ç–∏—Ç—å beta-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
5. **Soft launch (20% —Ç—Ä–∞—Ñ–∏–∫–∞)**
6. **Full launch**

---

*–û–±–Ω–æ–≤–ª–µ–Ω–æ: 26 –¥–µ–∫–∞–±—Ä—è 2025*
