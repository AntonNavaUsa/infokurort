# üó∫Ô∏è GitHub Issues –¥–ª—è –º–æ–¥—É–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –∫–∞—Ä—Ç—ã

> –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ Issues –∏–∑ [ACCOMMODATION-MAP-ROADMAP.md](./ACCOMMODATION-MAP-ROADMAP.md)

---

## üî• Epic Issues

### Epic #1: PoC - Proof of Concept
**Labels**: `üöÄ epic` `üì¶ poc` `üî¥ critical`  
**Timeline**: 3-5 –¥–Ω–µ–π

```markdown
## üöÄ [EPIC] PoC: –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è

### üéØ –¶–µ–ª—å
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫—É—é –æ—Å—É—â–µ—Å—Ç–≤–∏–º–æ—Å—Ç—å –≤–∏–¥–∂–µ—Ç–∞ –∫–∞—Ä—Ç—ã —Å affiliate-–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º–∏

### üì¶ Scope
- [x] Leaflet –∫–∞—Ä—Ç–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `/map`
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Travelpayouts API (token –≥–æ—Ç–æ–≤)
- [ ] –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ 5-10 –æ—Ç–µ–ª–µ–π –∏–∑ Hotellook
- [ ] –ì–µ–Ω–µ—Ä–∞—Ü–∏—è affiliate deeplinks
- [ ] –ë–∞–∑–æ–≤–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### üîó Child Issues
- #101 –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Leaflet –∫–∞—Ä—Ç—É –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ /map
- #102 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Travelpayouts API (Hotellook)
- #103 –û—Ç–æ–±—Ä–∞–∑–∏—Ç—å –æ—Ç–µ–ª–∏ –Ω–∞ –∫–∞—Ä—Ç–µ –º–∞—Ä–∫–µ—Ä–∞–º–∏
- #104 –ì–µ–Ω–µ—Ä–∞—Ü–∏—è affiliate deeplinks
- #105 –ë–∞–∑–æ–≤–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª–∏–∫–æ–≤ –≤ console

### ‚è±Ô∏è Timeline
3-5 –¥–Ω–µ–π

### üèÅ Definition of Done
- [ ] –ö–∞—Ä—Ç–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ `/map`
- [ ] –†–µ–∞–ª—å–Ω—ã–µ –æ—Ç–µ–ª–∏ –∏–∑ –û—Å—Ç—Ä–æ–≤–æ–∫
- [ ] Deeplinks –≤–µ–¥—É—Ç –Ω–∞ –û—Å—Ç—Ä–æ–≤–æ–∫ —Å –ø–∞—Ä—Ç–Ω—ë—Ä—Å–∫–∏–º marker ID
- [ ] –ö–ª–∏–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ console
```

---

## üè∑Ô∏è –î–µ—Ç–∞–ª—å–Ω—ã–µ Issues

### PoC Stage

#### Issue #101: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Leaflet –∫–∞—Ä—Ç—É
**Labels**: `üì¶ poc` `üé® frontend` `üî¥ critical`

```markdown
## üó∫Ô∏è –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Leaflet –∫–∞—Ä—Ç—É –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ /map

### üìã Description
–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É `/map` —Å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –∫–∞—Ä—Ç–æ–π –Ω–∞ –±–∞–∑–µ Leaflet.js

### üéØ Acceptance Criteria
- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø–∞–∫–µ—Ç `react-leaflet`
- [ ] –°–æ–∑–¥–∞–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `MapWidget.tsx`
- [ ] –ö–∞—Ä—Ç–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å –Ω–∞—á–∞–ª—å–Ω—ã–º–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ –†–æ–∑–∞ –•—É—Ç–æ—Ä (43.66, 40.31)
- [ ] Zoom controls —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –ö–∞—Ä—Ç–∞ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –ø–æ–¥ —Ä–∞–∑–º–µ—Ä –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

### üì¶ Deliverables
- `src/pages/AccommodationMap.tsx`
- `src/components/map/MapWidget.tsx`
- –û–±–Ω–æ–≤–ª–µ–Ω `src/App.tsx` (–¥–æ–±–∞–≤–ª–µ–Ω —Ä–æ—É—Ç `/map`)

### ‚è±Ô∏è Estimate
4 —á–∞—Å–∞

### üìö Resources
- [Leaflet Docs](https://leafletjs.com/)
- [React Leaflet](https://react-leaflet.js.org/)

### üèÅ Definition of Done
- [ ] –ö–æ–¥ –Ω–∞–ø–∏—Å–∞–Ω
- [ ] –ö–∞—Ä—Ç–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ `/map`
- [ ] Commit –≤ git
```

---

#### Issue #102: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Travelpayouts API
**Labels**: `üì¶ poc` `‚öôÔ∏è backend` `üî¥ critical`

```markdown
## üè® –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Travelpayouts API (Hotellook)

### üìã Description
–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Travelpayouts API –¥–ª—è –ø–æ–∏—Å–∫–∞ –æ—Ç–µ–ª–µ–π –ø–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º.
Travelpayouts –∞–≥—Ä–µ–≥–∏—Ä—É–µ—Ç 100+ OTA (Booking.com, Hotels.com –∏ –¥—Ä.)

### üéØ Acceptance Criteria
- [x] API Token –≥–æ—Ç–æ–≤: `3286214c096eaaaee7af14894a3f9586`
- [ ] –°–æ–∑–¥–∞–Ω —Å–µ—Ä–≤–∏—Å `backend/src/services/ota/travelpayouts.ts`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–µ—Ç–æ–¥ `searchByCoordinates(lat, lng, radius)`
- [ ] API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 10-20 –æ—Ç–µ–ª–µ–π –¥–ª—è –°–æ—á–∏/–†–æ–∑–∞ –•—É—Ç–æ—Ä
- [ ] –î–æ–±–∞–≤–ª–µ–Ω `.env` —Å `TRAVELPAYOUTS_TOKEN` –∏ `TRAVELPAYOUTS_MARKER`

### üì¶ Deliverables
- `backend/src/services/ota/travelpayouts.ts` ‚úÖ
- `backend/src/types/accommodation.ts` (–æ–±–Ω–æ–≤–ª—ë–Ω)
- `backend/.env` (–¥–æ–±–∞–≤–∏—Ç—å TRAVELPAYOUTS_TOKEN, TRAVELPAYOUTS_MARKER)

### ‚è±Ô∏è Estimate
4 —á–∞—Å–∞ (—É–ø—Ä–æ—â–µ–Ω–æ –±–ª–∞–≥–æ–¥–∞—Ä—è –≥–æ—Ç–æ–≤–æ–º—É —Ç–æ–∫–µ–Ω—É)

### üìö Resources
- [Travelpayouts API Docs](https://support.travelpayouts.com/hc/en-us/articles/203956163)
- [Hotellook API](https://support.travelpayouts.com/hc/en-us/articles/203972143-Hotels-search-API)
- [Dashboard](https://www.travelpayouts.com/)

### üîó Dependencies
–ù–µ—Ç

### üèÅ Definition of Done
- [x] –°–µ—Ä–≤–∏—Å —Å–æ–∑–¥–∞–Ω
- [ ] API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞
- [ ] –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –°–æ—á–∏
- [ ] Commit –≤ git
```

---

#### Issue #103: –û—Ç–æ–±—Ä–∞–∑–∏—Ç—å –æ—Ç–µ–ª–∏ –Ω–∞ –∫–∞—Ä—Ç–µ –º–∞—Ä–∫–µ—Ä–∞–º–∏
**Labels**: `üì¶ poc` `üé® frontend` `üî¥ critical`

```markdown
## üìç –û—Ç–æ–±—Ä–∞–∑–∏—Ç—å –æ—Ç–µ–ª–∏ –Ω–∞ –∫–∞—Ä—Ç–µ –º–∞—Ä–∫–µ—Ä–∞–º–∏

### üìã Description
–ü–æ–ª—É—á–∏—Ç—å –æ—Ç–µ–ª–∏ –∏–∑ API –∏ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å –∏—Ö –Ω–∞ –∫–∞—Ä—Ç–µ –≤ –≤–∏–¥–µ –º–∞—Ä–∫–µ—Ä–æ–≤ —Å popup

### üéØ Acceptance Criteria
- [ ] –°–æ–∑–¥–∞–Ω —Ö—É–∫ `useAccommodationSearch.ts`
- [ ] –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è API
- [ ] –ö–∞–∂–¥—ã–π –æ—Ç–µ–ª—å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –º–∞—Ä–∫–µ—Ä–æ–º –Ω–∞ –∫–∞—Ä—Ç–µ
- [ ] Popup –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç: –Ω–∞–∑–≤–∞–Ω–∏–µ, —Ñ–æ—Ç–æ, —Ü–µ–Ω—É, —Ä–µ–π—Ç–∏–Ω–≥
- [ ] –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –º–∞—Ä–∫–µ—Ä popup –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è

### üì¶ Deliverables
- `src/hooks/useAccommodationSearch.ts`
- `src/components/map/HotelMarker.tsx`
- `src/components/map/HotelPopup.tsx`
- `src/lib/api/accommodation.ts`

### ‚è±Ô∏è Estimate
4 —á–∞—Å–∞

### üîó Dependencies
- Blocked by: #101, #102

### üèÅ Definition of Done
- [ ] –ú–∞—Ä–∫–µ—Ä—ã –≤–∏–¥–Ω—ã –Ω–∞ –∫–∞—Ä—Ç–µ
- [ ] Popup —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –î–∞–Ω–Ω—ã–µ –±–µ—Ä—É—Ç—Å—è –∏–∑ API
- [ ] Commit –≤ git
```

---

#### Issue #104: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è affiliate deeplinks
**Labels**: `üì¶ poc` `üí∞ affiliate` `üî¥ critical`

```markdown
## üîó –ì–µ–Ω–µ—Ä–∞—Ü–∏—è affiliate deeplinks –¥–ª—è –û—Å—Ç—Ä–æ–≤–æ–∫

### üìã Description
–°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–∏—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–∞—Ä—Ç–Ω—ë—Ä—Å–∫–∏—Ö —Å—Å—ã–ª–æ–∫ —Å –ø–æ–¥–º–µ–Ω–æ–π affiliate ID

### üéØ Acceptance Criteria
- [ ] –°–æ–∑–¥–∞–Ω `backend/src/services/deeplink.ts`
- [ ] –§—É–Ω–∫—Ü–∏—è `generateOstrovokLink(hotelId, partnerId)` —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –°—Å—ã–ª–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä `marker=YOUR_AFFILIATE_ID`
- [ ] –ü—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –ø–æ —Å—Å—ã–ª–∫–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ç–µ–ª—è –Ω–∞ Ostrovok.ru

### üì¶ Deliverables
- `backend/src/services/deeplink.ts`
- –¢–µ—Å—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ

### ‚è±Ô∏è Estimate
2 —á–∞—Å–∞

### üîó Dependencies
- Blocked by: #102

### üìö Resources
- [–û—Å—Ç—Ä–æ–≤–æ–∫ Deeplink Guide](https://www.ostrovok.ru/partners/integration/)

### üèÅ Definition of Done
- [ ] –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞
- [ ] –°—Å—ã–ª–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ü–∞—Ä—Ç–Ω—ë—Ä—Å–∫–∏–π ID –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è
- [ ] Commit –≤ git
```

---

#### Issue #105: –ë–∞–∑–æ–≤–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª–∏–∫–æ–≤ –≤ console
**Labels**: `üì¶ poc` `‚öôÔ∏è backend` `üü¢ medium`

```markdown
## üìù –ë–∞–∑–æ–≤–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª–∏–∫–æ–≤ –≤ console

### üìã Description
–ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ "–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å" –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏–µ –≤ console (–ø–æ–∫–∞ –±–µ–∑ –ë–î)

### üéØ Acceptance Criteria
- [ ] –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–Ω–æ–ø–∫—É "–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å" –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è
- [ ] –í console.log –≤—ã–≤–æ–¥–∏—Ç—Å—è:
  - –ù–∞–∑–≤–∞–Ω–∏–µ –æ—Ç–µ–ª—è
  - –¶–µ–Ω–∞
  - Affiliate URL
  - Timestamp

### üì¶ Deliverables
- –û–±–Ω–æ–≤–ª—ë–Ω `HotelPopup.tsx` —Å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–º onClick

### ‚è±Ô∏è Estimate
1 —á–∞—Å

### üîó Dependencies
- Blocked by: #104

### üèÅ Definition of Done
- [ ] –ö–ª–∏–∫ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è
- [ ] –î–∞–Ω–Ω—ã–µ –≤–∏–¥–Ω—ã –≤ console
- [ ] Commit –≤ git
```

---

### MVP Stage

#### Epic #2: Frontend Widget
**Labels**: `üöÄ epic` `üì¶ mvp` `üé® frontend` `üî¥ critical`  
**Timeline**: 7-9 –¥–Ω–µ–π

```markdown
## üöÄ [EPIC] Frontend: Standalone Widget

### üéØ –¶–µ–ª—å
–°–æ–∑–¥–∞—Ç—å –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π React –≤–∏–¥–∂–µ—Ç –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö —Å–∞–π—Ç–æ–≤

### üì¶ Scope
- [x] Standalone bundle (Vite)
- [x] iframe + JS embed methods
- [x] –§–∏–ª—å—Ç—Ä—ã –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
- [x] –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω
- [x] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### üîó Child Issues
- #201 –°–æ–∑–¥–∞—Ç—å standalone React bundle
- #202 –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ URL
- #203 JS-loader —Å–∫—Ä–∏–ø—Ç –¥–ª—è –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏—è
- #204 –§–∏–ª—å—Ç—Ä—ã: —Ü–µ–Ω–∞, —Ä–µ–π—Ç–∏–Ω–≥
- #205 –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —Ü–µ–Ω–µ/—Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é
- #206 –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω mobile+desktop
- #207 –ó–∞–≥—Ä—É–∑—á–∏–∫–∏ (skeleton)
- #208 –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ API
- #209 Lazy loading –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ
- #210 –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å RU/EN

### ‚è±Ô∏è Timeline
7-9 –¥–Ω–µ–π (51 —á–∞—Å)
```

---

#### Issue #201: –°–æ–∑–¥–∞—Ç—å standalone React bundle
**Labels**: `üì¶ mvp` `üé® frontend` `üî¥ critical`

```markdown
## üì¶ –°–æ–∑–¥–∞—Ç—å standalone React bundle –¥–ª—è iframe

### üìã Description
–°–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π Vite build –∫–æ–Ω—Ñ–∏–≥ –¥–ª—è –≤–∏–¥–∂–µ—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –≤—Å—Ç—Ä–∞–∏–≤–∞—Ç—å —á–µ—Ä–µ–∑ iframe

### üéØ Acceptance Criteria
- [ ] –°–æ–∑–¥–∞–Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `widget/` —Å –æ—Ç–¥–µ–ª—å–Ω—ã–º package.json
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω `vite.config.widget.ts` –¥–ª—è standalone bundle
- [ ] Build –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç `widget.js` –∏ `widget.css`
- [ ] –í–∏–¥–∂–µ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ iframe –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –æ—Ç —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ —Å–∞–π—Ç–∞
- [ ] Bundle —Ä–∞–∑–º–µ—Ä < 200 KB (gzip)

### üì¶ Deliverables
- `widget/src/Widget.tsx`
- `widget/vite.config.widget.ts`
- `widget/package.json`
- `widget/dist/` (build output)

### ‚è±Ô∏è Estimate
6 —á–∞—Å–æ–≤

### üîó Dependencies
- Blocked by: PoC –∑–∞–≤–µ—Ä—à—ë–Ω

### üìö Resources
- [Vite Library Mode](https://vitejs.dev/guide/build.html#library-mode)

### üèÅ Definition of Done
- [ ] Build —Ä–∞–±–æ—Ç–∞–µ—Ç: `npm run build:widget`
- [ ] –§–∞–π–ª `widget.js` —Å–æ–∑–¥–∞–Ω
- [ ] –í–∏–¥–∂–µ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ iframe
- [ ] Bundle < 200 KB
- [ ] Commit –≤ git
```

---

#### Issue #202: –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ URL
**Labels**: `üì¶ mvp` `üé® frontend` `üî¥ critical`

```markdown
## ‚öôÔ∏è –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏—è –≤–∏–¥–∂–µ—Ç–∞ —á–µ—Ä–µ–∑ URL query params

### üìã Description
–í–∏–¥–∂–µ—Ç –¥–æ–ª–∂–µ–Ω —á–∏—Ç–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ URL: –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã, —Ä–∞–¥–∏—É—Å, —Ç–∏–ø

### üéØ Acceptance Criteria
- [ ] URL —Ñ–æ—Ä–º–∞—Ç: `?lat=43.66&lng=40.31&radius=5000&type=resort`
- [ ] –í–∏–¥–∂–µ—Ç –ø–∞—Ä—Å–∏—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
- [ ] Fallback –Ω–∞ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –µ—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–µ —É–∫–∞–∑–∞–Ω—ã
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (lat: -90 –¥–æ 90, lng: -180 –¥–æ 180)

### üì¶ Deliverables
- `widget/src/hooks/useWidgetParams.ts`
- `widget/src/config.ts` (default values)

### ‚è±Ô∏è Estimate
4 —á–∞—Å–∞

### üîó Dependencies
- Blocked by: #201

### üèÅ Definition of Done
- [ ] –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —á–∏—Ç–∞—é—Ç—Å—è –∏–∑ URL
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Fallback –∑–Ω–∞—á–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è
- [ ] Commit –≤ git
```

---

#### Issue #203: JS-loader —Å–∫—Ä–∏–ø—Ç –¥–ª—è –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏—è
**Labels**: `üì¶ mvp` `üé® frontend` `üî¥ critical`

```markdown
## üìú –°–æ–∑–¥–∞—Ç—å JS-loader —Å–∫—Ä–∏–ø—Ç –¥–ª—è –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏—è

### üìã Description
–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ iframe: JS —Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞—ë—Ç –≤–∏–¥–∂–µ—Ç –≤ div –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø–∞—Ä—Ç–Ω—ë—Ä–∞

### üéØ Acceptance Criteria
- [ ] –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `widget/src/embed.ts`
- [ ] –°–∫—Ä–∏–ø—Ç —á–∏—Ç–∞–µ—Ç data-–∞—Ç—Ä–∏–±—É—Ç—ã: `data-lat`, `data-lng`, `data-partner-id`
- [ ] –í–∏–¥–∂–µ—Ç —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –≤ `<div id="ski-map-widget"></div>`
- [ ] –°–∫—Ä–∏–ø—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ —Å –¥—Ä—É–≥–∏–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏ (no global pollution)

### üì¶ Deliverables
- `widget/src/embed.ts`
- `widget/dist/embed.js` (build)
- –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ `docs/WIDGET-EMBEDDING.md`

### ‚è±Ô∏è Estimate
5 —á–∞—Å–æ–≤

### üîó Dependencies
- Blocked by: #201

### üìö Example
```html
<div id="ski-map-widget"></div>
<script src="https://cdn.ski-concierge.com/embed.js" 
        data-lat="43.66" 
        data-lng="40.31" 
        data-partner-id="ABC123"></script>
```

### üèÅ Definition of Done
- [ ] –°–∫—Ä–∏–ø—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Data-–∞—Ç—Ä–∏–±—É—Ç—ã —á–∏—Ç–∞—é—Ç—Å—è
- [ ] –í–∏–¥–∂–µ—Ç —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è
- [ ] –ü—Ä–∏–º–µ—Ä –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- [ ] Commit –≤ git
```

---

#### Issue #204: –§–∏–ª—å—Ç—Ä—ã: —Ü–µ–Ω–∞, —Ä–µ–π—Ç–∏–Ω–≥
**Labels**: `üì¶ mvp` `üé® frontend` `üü° high`

```markdown
## üîç –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã: —Ü–µ–Ω–∞ (–º–∏–Ω/–º–∞–∫—Å), —Ä–µ–π—Ç–∏–Ω–≥

### üìã Description
UI –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Å–ø–∏—Å–∫–∞ –æ—Ç–µ–ª–µ–π –ø–æ —Ü–µ–Ω–µ –∏ —Ä–µ–π—Ç–∏–Ω–≥—É

### üéØ Acceptance Criteria
- [ ] –°–æ–∑–¥–∞–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `FilterPanel.tsx`
- [ ] Slider –¥–ª—è —Ü–µ–Ω—ã (min/max)
- [ ] Dropdown –¥–ª—è —Ä–µ–π—Ç–∏–Ω–≥–∞ (5‚≠ê, 4‚≠ê+, 3‚≠ê+)
- [ ] –§–∏–ª—å—Ç—Ä—ã –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫ —Å–ø–∏—Å–∫—É –æ—Ç–µ–ª–µ–π
- [ ] –ö–Ω–æ–ø–∫–∞ "–°–±—Ä–æ—Å–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã"

### üì¶ Deliverables
- `src/components/map/FilterPanel.tsx`
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `useAccommodationSearch.ts`

### ‚è±Ô∏è Estimate
6 —á–∞—Å–æ–≤

### üîó Dependencies
- Blocked by: #103

### üèÅ Definition of Done
- [ ] UI —Ñ–∏–ª—å—Ç—Ä–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- [ ] –§–∏–ª—å—Ç—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –°–ø–∏—Å–æ–∫ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- [ ] Commit –≤ git
```

---

#### Issue #205: –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —Ü–µ–Ω–µ/—Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é
**Labels**: `üì¶ mvp` `üé® frontend` `üü° high`

```markdown
## üîÑ –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞: —Ü–µ–Ω–∞, —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ, —Ä–µ–π—Ç–∏–Ω–≥

### üìã Description
Dropdown –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ç–∏–ø–∞ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –æ—Ç–µ–ª–µ–π

### üéØ Acceptance Criteria
- [ ] Dropdown: "–ü–æ —Ü–µ–Ω–µ ‚Üë", "–ü–æ —Ü–µ–Ω–µ ‚Üì", "–ü–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é", "–ü–æ —Ä–µ–π—Ç–∏–Ω–≥—É"
- [ ] –ü—Ä–∏ –≤—ã–±–æ—Ä–µ —Å–ø–∏—Å–æ–∫ –æ—Ç–µ–ª–µ–π –ø–µ—Ä–µ—Å–æ—Ä—Ç–∏—Ä–æ–≤—ã–≤–∞–µ—Ç—Å—è
- [ ] –î–µ—Ñ–æ–ª—Ç–Ω–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞: "–ü–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é"

### üì¶ Deliverables
- –û–±–Ω–æ–≤–ª—ë–Ω `FilterPanel.tsx`
- –õ–æ–≥–∏–∫–∞ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –≤ `useAccommodationSearch.ts`

### ‚è±Ô∏è Estimate
4 —á–∞—Å–∞

### üîó Dependencies
- Blocked by: #204

### üèÅ Definition of Done
- [ ] Dropdown —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è
- [ ] Commit –≤ git
```

---

#### Issue #206: –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω mobile+desktop
**Labels**: `üì¶ mvp` `üé® frontend` `üî¥ critical`

```markdown
## üì± –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω –¥–ª—è mobile –∏ desktop

### üìã Description
–í–∏–¥–∂–µ—Ç –¥–æ–ª–∂–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –Ω–∞ —ç–∫—Ä–∞–Ω–∞—Ö –æ—Ç 320px –¥–æ 1920px

### üéØ Acceptance Criteria
- [ ] Desktop (>768px): –∫–∞—Ä—Ç–∞ —Å–ª–µ–≤–∞, —Å–ø–∏—Å–æ–∫ —Å–ø—Ä–∞–≤–∞
- [ ] Mobile (<768px): –∫–∞—Ä—Ç–∞ —Å–≤–µ—Ä—Ö—É, —Å–ø–∏—Å–æ–∫ —Å–Ω–∏–∑—É (–≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π stack)
- [ ] –¢–∞—á-—Å–æ–±—ã—Ç–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö (pinch zoom)
- [ ] –ö–Ω–æ–ø–∫–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–æ–ª—å—à–∏–µ –¥–ª—è –∫–∞—Å–∞–Ω–∏—è (min 44px)

### üì¶ Deliverables
- –û–±–Ω–æ–≤–ª—ë–Ω `MapWidget.tsx` —Å responsive CSS
- Tailwind breakpoints –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã

### ‚è±Ô∏è Estimate
8 —á–∞—Å–æ–≤

### üîó Dependencies
- Blocked by: #201

### üèÅ Definition of Done
- [ ] Lighthouse mobile score > 90
- [ ] –í–∏–¥–∂–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ iPhone, Android
- [ ] Commit –≤ git
```

---

#### Epic #3: Backend API
**Labels**: `üöÄ epic` `üì¶ mvp` `‚öôÔ∏è backend` `üî¥ critical`  
**Timeline**: 5-6 –¥–Ω–µ–π

```markdown
## üöÄ [EPIC] Backend: Accommodation & Affiliate API

### üéØ –¶–µ–ª—å
API –¥–ª—è –ø–æ–∏—Å–∫–∞ –∂–∏–ª—å—è –∏ tracking affiliate –∫–ª–∏–∫–æ–≤

### üì¶ Scope
- [x] Prisma –º–æ–¥–µ–ª–∏ (Widget, Partner, Click)
- [x] Search endpoint —Å –∞–≥—Ä–µ–≥–∞—Ü–∏–µ–π OTA
- [x] Redis caching
- [x] Rate limiting
- [x] Affiliate tracking endpoint

### üîó Child Issues
- #301 –°–æ–∑–¥–∞—Ç—å Prisma –º–æ–¥–µ–ª–∏: Widget, Partner, Click
- #302 API endpoint: POST /api/accommodation/search
- #303 –ê–≥—Ä–µ–≥–∞—Ü–∏—è –û—Å—Ç—Ä–æ–≤–æ–∫ + –°—É—Ç–æ—á–Ω–æ.ru
- #304 –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- #305 –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Redis –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
- #306 Rate limiting (100 req/min)
- #307 API endpoint: POST /api/affiliate/track-click
- #308 –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä deeplinks —Å partner_id

### ‚è±Ô∏è Timeline
5-6 –¥–Ω–µ–π (42 —á–∞—Å–∞)
```

---

#### Issue #301: –°–æ–∑–¥–∞—Ç—å Prisma –º–æ–¥–µ–ª–∏
**Labels**: `üì¶ mvp` `‚öôÔ∏è backend` `üî¥ critical`

```markdown
## üóÑÔ∏è –°–æ–∑–¥–∞—Ç—å Prisma –º–æ–¥–µ–ª–∏: Widget, Partner, Click, Conversion

### üìã Description
–î–æ–±–∞–≤–∏—Ç—å –≤ schema.prisma –º–æ–¥–µ–ª–∏ –¥–ª—è –≤–∏–¥–∂–µ—Ç–æ–≤, –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤, –∫–ª–∏–∫–æ–≤

### üéØ Acceptance Criteria
- [ ] –ú–æ–¥–µ–ª—å `Widget` —Å –ø–æ–ª—è–º–∏: id, partnerId, latitude, longitude, radius, type, theme, active
- [ ] –ú–æ–¥–µ–ª—å `Partner` —Å –ø–æ–ª—è–º–∏: id, email, name, domain, ostrovokAffiliateId, sutochnoAffiliateId, active
- [ ] –ú–æ–¥–µ–ª—å `Click` —Å –ø–æ–ª—è–º–∏: id, widgetId, partnerId, hotelId, ota, price, ip, clickedAt
- [ ] –ú–æ–¥–µ–ª—å `Conversion` —Å –ø–æ–ª—è–º–∏: id, partnerId, otaBookingId, revenue, commission, status
- [ ] –ú–∏–≥—Ä–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞: `npm run prisma:migrate`

### üì¶ Deliverables
- `backend/prisma/schema.prisma` (–æ–±–Ω–æ–≤–ª—ë–Ω)
- `backend/prisma/migrations/...` (–Ω–æ–≤–∞—è –º–∏–≥—Ä–∞—Ü–∏—è)

### ‚è±Ô∏è Estimate
3 —á–∞—Å–∞

### üìö Schema
–°–º–æ—Ç—Ä–∏ [ACCOMMODATION-MAP-ROADMAP.md](./ACCOMMODATION-MAP-ROADMAP.md#prisma-schema-additions)

### üèÅ Definition of Done
- [ ] –ú–æ–¥–µ–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã
- [ ] –ú–∏–≥—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞
- [ ] `npx prisma generate` —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Commit –≤ git
```

---

#### Issue #302: API endpoint POST /api/accommodation/search
**Labels**: `üì¶ mvp` `‚öôÔ∏è backend` `üî¥ critical`

```markdown
## üîç API endpoint: POST /api/accommodation/search

### üìã Description
–°–æ–∑–¥–∞—Ç—å Fastify —Ä–æ—É—Ç –¥–ª—è –ø–æ–∏—Å–∫–∞ –∂–∏–ª—å—è –ø–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º

### üéØ Acceptance Criteria
- [ ] Endpoint: `POST /api/accommodation/search`
- [ ] Request body: `{ lat, lng, radius, checkin?, checkout?, guests? }`
- [ ] Response: –º–∞—Å—Å–∏–≤ –æ—Ç–µ–ª–µ–π `{ id, name, lat, lng, price, currency, rating, image, ota }`
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (Zod)

### üì¶ Deliverables
- `backend/src/routes/accommodation.ts`
- `backend/src/types/accommodation.ts`

### ‚è±Ô∏è Estimate
4 —á–∞—Å–∞

### üîó Dependencies
- Blocked by: #301

### üèÅ Definition of Done
- [ ] Endpoint —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Postman/curl —Ç–µ—Å—Ç —É—Å–ø–µ—à–µ–Ω
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Commit –≤ git
```

---

#### Issue #303: –ê–≥—Ä–µ–≥–∞—Ü–∏—è –û—Å—Ç—Ä–æ–≤–æ–∫ + –°—É—Ç–æ—á–Ω–æ.ru
**Labels**: `üì¶ mvp` `‚öôÔ∏è backend` `üü° high`

```markdown
## üè® –ê–≥—Ä–µ–≥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ –û—Å—Ç—Ä–æ–≤–æ–∫ + –°—É—Ç–æ—á–Ω–æ.ru API

### üìã Description
–ó–∞–ø—Ä–æ—Å–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ 2+ OTA –∏ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### üéØ Acceptance Criteria
- [ ] –°–æ–∑–¥–∞–Ω `backend/src/services/ota/sutochno.ts`
- [ ] –ú–µ—Ç–æ–¥ `searchByCoordinates()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –¥–ª—è –æ–±–æ–∏—Ö API –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
- [ ] –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –º–µ—Ä–∂–∞—Ç—Å—è –≤ –æ–¥–∏–Ω –º–∞—Å—Å–∏–≤
- [ ] –ü—Ä–∏ –æ—à–∏–±–∫–µ –æ–¥–Ω–æ–≥–æ API, –≤—Ç–æ—Ä–æ–π –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å (graceful degradation)

### üì¶ Deliverables
- `backend/src/services/ota/sutochno.ts`
- –û–±–Ω–æ–≤–ª—ë–Ω `accommodation.ts` (—Ä–æ—É—Ç)

### ‚è±Ô∏è Estimate
8 —á–∞—Å–æ–≤

### üîó Dependencies
- Blocked by: #302

### üìö Resources
- [–°—É—Ç–æ—á–Ω–æ.ru API](https://sutochno.ru/info/api)
- [–û—Å—Ç—Ä–æ–≤–æ–∫ API](https://www.ostrovok.ru/partners/api/)

### üèÅ Definition of Done
- [ ] 2 API –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã
- [ ] –î–∞–Ω–Ω—ã–µ –º–µ—Ä–∂–∞—Ç—Å—è
- [ ] –û—à–∏–±–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è
- [ ] Commit –≤ git
```

---

#### Issue #304: –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
**Labels**: `üì¶ mvp` `‚öôÔ∏è backend` `üî¥ critical`

```markdown
## üîÑ –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ä–∞–∑–Ω—ã—Ö OTA

### üìã Description
–ü—Ä–∏–≤–µ—Å—Ç–∏ –¥–∞–Ω–Ω—ã–µ –æ—Ç –û—Å—Ç—Ä–æ–≤–æ–∫, –°—É—Ç–æ—á–Ω–æ.ru –∫ –µ–¥–∏–Ω–æ–º—É —Ñ–æ—Ä–º–∞—Ç—É

### üéØ Acceptance Criteria
- [ ] –°–æ–∑–¥–∞–Ω `backend/src/services/ota/normalizer.ts`
- [ ] –§—É–Ω–∫—Ü–∏—è `normalizeHotel(rawData, source)` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –æ–±—ä–µ–∫—Ç
- [ ] –í—Å–µ —Ü–µ–Ω—ã –≤ USD (–∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- [ ] –†–µ–π—Ç–∏–Ω–≥ –ø—Ä–∏–≤–µ–¥—ë–Ω –∫ —à–∫–∞–ª–µ 0-10
- [ ] Unit —Ç–µ—Å—Ç—ã –¥–ª—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏

### üì¶ Deliverables
- `backend/src/services/ota/normalizer.ts`
- `backend/tests/unit/normalizer.test.ts`

### ‚è±Ô∏è Estimate
5 —á–∞—Å–æ–≤

### üîó Dependencies
- Blocked by: #303

### üèÅ Definition of Done
- [ ] –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ç–æ—Ä —Å–æ–∑–¥–∞–Ω
- [ ] –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] –í—Å–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç normalizer
- [ ] Commit –≤ git
```

---

#### Issue #305: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Redis –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
**Labels**: `üì¶ mvp` `‚öôÔ∏è backend` `üî¥ critical`

```markdown
## üóÑÔ∏è –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Redis –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–∏—Å–∫–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

### üìã Description
–î–æ–±–∞–≤–∏—Ç—å Redis –¥–ª—è –∫—ç—à–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞ (TTL 1 —á–∞—Å)

### üéØ Acceptance Criteria
- [ ] –î–æ–±–∞–≤–ª–µ–Ω `redis` –≤ `docker-compose.yml`
- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `ioredis` –ø–∞–∫–µ—Ç
- [ ] –°–æ–∑–¥–∞–Ω `backend/src/services/cache.ts`
- [ ] –ú–µ—Ç–æ–¥ `get(key)` –∏ `set(key, value, ttl)`
- [ ] Search endpoint –∏—Å–ø–æ–ª—å–∑—É–µ—Ç cache (cache key = `search:lat:lng:radius`)

### üì¶ Deliverables
- `backend/src/services/cache.ts`
- `docker-compose.yml` (–æ–±–Ω–æ–≤–ª—ë–Ω)
- `.env` (REDIS_URL)

### ‚è±Ô∏è Estimate
4 —á–∞—Å–∞

### üîó Dependencies
–ù–µ—Ç (–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ)

### üèÅ Definition of Done
- [ ] Redis –∑–∞–ø—É—â–µ–Ω –≤ Docker
- [ ] Cache —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] TTL = 1 —á–∞—Å
- [ ] Commit –≤ git
```

---

#### Issue #306: Rate limiting
**Labels**: `üì¶ mvp` `‚öôÔ∏è backend` `üî¥ critical`

```markdown
## üö¶ Rate limiting (100 req/min –Ω–∞ IP)

### üìã Description
–ó–∞—â–∏—Ç–∞ –æ—Ç –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–π: –º–∞–∫—Å–∏–º—É–º 100 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É —Å –æ–¥–Ω–æ–≥–æ IP

### üéØ Acceptance Criteria
- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `@fastify/rate-limit`
- [ ] –õ–∏–º–∏—Ç: 100 req/min per IP
- [ ] –ü—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏: HTTP 429 Too Many Requests
- [ ] Whitelist –¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö IP (127.0.0.1)

### üì¶ Deliverables
- –û–±–Ω–æ–≤–ª—ë–Ω `backend/src/index.ts`

### ‚è±Ô∏è Estimate
3 —á–∞—Å–∞

### üìö Resources
- [@fastify/rate-limit](https://github.com/fastify/fastify-rate-limit)

### üèÅ Definition of Done
- [ ] Rate limit —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] 429 error –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏
- [ ] Commit –≤ git
```

---

#### Issue #307: API endpoint POST /api/affiliate/track-click
**Labels**: `üì¶ mvp` `üí∞ affiliate` `üî¥ critical`

```markdown
## üìä API endpoint: POST /api/affiliate/track-click

### üìã Description
Endpoint –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∫–ª–∏–∫–æ–≤ –ø–æ affiliate —Å—Å—ã–ª–∫–∞–º

### üéØ Acceptance Criteria
- [ ] Endpoint: `POST /api/affiliate/track-click`
- [ ] Request body: `{ widgetId, hotelId, hotelName, ota, price, currency }`
- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ —Ç–∞–±–ª–∏—Ü—É `Click`
- [ ] IP –∏ User-Agent –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- [ ] Response: `{ success: true, clickId }`

### üì¶ Deliverables
- `backend/src/routes/affiliate.ts`

### ‚è±Ô∏è Estimate
4 —á–∞—Å–∞

### üîó Dependencies
- Blocked by: #301

### üèÅ Definition of Done
- [ ] Endpoint —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î
- [ ] Commit –≤ git
```

---

#### Issue #308: –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä deeplinks —Å partner_id
**Labels**: `üì¶ mvp` `üí∞ affiliate` `üî¥ critical`

```markdown
## üîó –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä deeplinks —Å –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–æ–π partner_id

### üìã Description
–°–µ—Ä–≤–∏—Å –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–∞—Ä—Ç–Ω—ë—Ä—Å–∫–∏—Ö —Å—Å—ã–ª–æ–∫ —Å –Ω—É–∂–Ω—ã–º affiliate ID

### üéØ Acceptance Criteria
- [ ] –°–æ–∑–¥–∞–Ω `backend/src/services/deeplink.ts`
- [ ] –ú–µ—Ç–æ–¥ `generate(hotelId, ota, partnerId)` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç URL
- [ ] –î–ª—è Booking.com: –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è `aid=PARTNER_ID`
- [ ] –î–ª—è Expedia: –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è `tpid=PARTNER_ID`
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ utm_source, utm_campaign –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

### üì¶ Deliverables
- `backend/src/services/deeplink.ts`

### ‚è±Ô∏è Estimate
3 —á–∞—Å–∞

### üîó Dependencies
- Blocked by: #301

### üèÅ Definition of Done
- [ ] –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞
- [ ] –°—Å—ã–ª–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –†–∞–∑–Ω—ã–µ OTA –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è
- [ ] Commit –≤ git
```

---

#### Epic #4: Admin Dashboard
**Labels**: `üöÄ epic` `üì¶ mvp` `üë§ admin` `üî¥ critical`  
**Timeline**: 3-4 –¥–Ω—è

```markdown
## üöÄ [EPIC] Admin: Widget Management & Analytics

### üéØ –¶–µ–ª—å
–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∏–¥–∂–µ—Ç–∞–º–∏ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

### üì¶ Scope
- [x] CRUD –≤–∏–¥–∂–µ—Ç–æ–≤
- [x] –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä embed –∫–æ–¥–∞
- [x] –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ä—Ç–Ω–µ—Ä–∞–º–∏
- [x] –ë–∞–∑–æ–≤–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ (–∫–ª–∏–∫–∏, CTR)

### üîó Child Issues
- #401 –°—Ç—Ä–∞–Ω–∏—Ü–∞ /widgets –≤ –∞–¥–º–∏–Ω–∫–µ
- #402 CRUD –≤–∏–¥–∂–µ—Ç–æ–≤ (Refine)
- #403 –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä embed –∫–æ–¥–∞ (iframe/JS)
- #404 Preview –≤–∏–¥–∂–µ—Ç–∞ –≤ –∞–¥–º–∏–Ω–∫–µ
- #405 CRUD –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤
- #406 –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
- #407 –ú–µ—Ç—Ä–∏–∫–∏: –∫–ª–∏–∫–∏, CTR, –ø–æ –≤–∏–¥–∂–µ—Ç–∞–º

### ‚è±Ô∏è Timeline
3-4 –¥–Ω—è (32 —á–∞—Å–∞)
```

---

#### Issue #401: –°—Ç—Ä–∞–Ω–∏—Ü–∞ /widgets –≤ –∞–¥–º–∏–Ω–∫–µ
**Labels**: `üì¶ mvp` `üë§ admin` `üî¥ critical`

```markdown
## üìÑ –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É /widgets –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

### üìã Description
–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ä–µ—Å—É—Ä—Å "–í–∏–¥–∂–µ—Ç—ã" –≤ Refine –∞–¥–º–∏–Ω–∫—É

### üéØ Acceptance Criteria
- [ ] –û–±–Ω–æ–≤–ª—ë–Ω `admin/src/App.tsx` (–Ω–æ–≤—ã–π resource)
- [ ] –°–æ–∑–¥–∞–Ω–∞ –ø–∞–ø–∫–∞ `admin/src/pages/widgets/`
- [ ] –ú–∞—Ä—à—Ä—É—Ç `/widgets` –¥–æ–±–∞–≤–ª–µ–Ω
- [ ] –ú–µ–Ω—é –≤ –∞–¥–º–∏–Ω–∫–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "–í–∏–¥–∂–µ—Ç—ã"

### üì¶ Deliverables
- –û–±–Ω–æ–≤–ª—ë–Ω `admin/src/App.tsx`
- `admin/src/pages/widgets/list.tsx` (–ø—É—Å—Ç–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–∫–∞)

### ‚è±Ô∏è Estimate
2 —á–∞—Å–∞

### üîó Dependencies
- Blocked by: #301

### üèÅ Definition of Done
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- [ ] –ú–µ–Ω—é —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Commit –≤ git
```

---

#### Issue #402: CRUD –≤–∏–¥–∂–µ—Ç–æ–≤ (Refine)
**Labels**: `üì¶ mvp` `üë§ admin` `üî¥ critical`

```markdown
## ‚úèÔ∏è –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å CRUD –¥–ª—è –≤–∏–¥–∂–µ—Ç–æ–≤ —á–µ—Ä–µ–∑ Refine

### üìã Description
–ü–æ–ª–Ω—ã–π CRUD: —Å–ø–∏—Å–æ–∫, —Å–æ–∑–¥–∞–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ –≤–∏–¥–∂–µ—Ç–æ–≤

### üéØ Acceptance Criteria
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–ø–∏—Å–∫–∞: —Ç–∞–±–ª–∏—Ü–∞ —Å –≤–∏–¥–∂–µ—Ç–∞–º–∏ (–Ω–∞–∑–≤–∞–Ω–∏–µ, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã, —Å—Ç–∞—Ç—É—Å)
- [ ] –ö–Ω–æ–ø–∫–∞ "–°–æ–∑–¥–∞—Ç—å –≤–∏–¥–∂–µ—Ç" ‚Üí —Ñ–æ—Ä–º–∞
- [ ] –§–æ—Ä–º–∞: –Ω–∞–∑–≤–∞–Ω–∏–µ, lat, lng, radius, type (dropdown), theme
- [ ] –ö–Ω–æ–ø–∫–∞ "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å" ‚Üí —Ñ–æ—Ä–º–∞ —Å –¥–∞–Ω–Ω—ã–º–∏
- [ ] –ö–Ω–æ–ø–∫–∞ "–£–¥–∞–ª–∏—Ç—å" ‚Üí –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ ‚Üí —É–¥–∞–ª–µ–Ω–∏–µ

### üì¶ Deliverables
- `admin/src/pages/widgets/list.tsx`
- `admin/src/pages/widgets/create.tsx`
- `admin/src/pages/widgets/edit.tsx`

### ‚è±Ô∏è Estimate
6 —á–∞—Å–æ–≤

### üîó Dependencies
- Blocked by: #401

### üèÅ Definition of Done
- [ ] CRUD —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î
- [ ] Commit –≤ git
```

---

#### Issue #403: –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä embed –∫–æ–¥–∞
**Labels**: `üì¶ mvp` `üë§ admin` `üî¥ critical`

```markdown
## üîß –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä embed –∫–æ–¥–∞ (iframe + JS)

### üìã Description
–ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤–∏–¥–∂–µ—Ç–∞ –ø–æ–∫–∞–∑–∞—Ç—å –∫–æ–¥ –¥–ª—è –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏—è

### üéØ Acceptance Criteria
- [ ] –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –≤–∏–¥–∂–µ—Ç–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –º–æ–¥–∞–ª "–ö–æ–¥ –¥–ª—è –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏—è"
- [ ] 2 –≤–∫–ª–∞–¥–∫–∏: "iframe" –∏ "JavaScript"
- [ ] –ö–Ω–æ–ø–∫–∞ "–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å" –∫–æ–ø–∏—Ä—É–µ—Ç –∫–æ–¥ –≤ –±—É—Ñ–µ—Ä
- [ ] –ö–æ–¥ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π widget_id –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

### üì¶ Deliverables
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `admin/src/components/EmbedCodeModal.tsx`
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ `widgets/create.tsx` –∏ `edit.tsx`

### ‚è±Ô∏è Estimate
4 —á–∞—Å–∞

### üîó Dependencies
- Blocked by: #402

### üìö Example
```html
<!-- iframe -->
<iframe src="https://ski-concierge.com/widget/ABC123" width="100%" height="600"></iframe>

<!-- JS -->
<div id="ski-map-widget"></div>
<script src="https://ski-concierge.com/embed.js" data-widget-id="ABC123"></script>
```

### üèÅ Definition of Done
- [ ] –ú–æ–¥–∞–ª —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ö–æ–¥ –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è
- [ ] Commit –≤ git
```

---

#### Issue #404: Preview –≤–∏–¥–∂–µ—Ç–∞ –≤ –∞–¥–º–∏–Ω–∫–µ
**Labels**: `üì¶ mvp` `üë§ admin` `üü° high`

```markdown
## üëÅÔ∏è –ü—Ä–µ–≤—å—é –≤–∏–¥–∂–µ—Ç–∞ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

### üìã Description
–ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å live preview –≤–∏–¥–∂–µ—Ç–∞

### üéØ Acceptance Criteria
- [ ] –ö–Ω–æ–ø–∫–∞ "–ü—Ä–µ–≤—å—é" –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç iframe —Å –≤–∏–¥–∂–µ—Ç–æ–º
- [ ] –í–∏–¥–∂–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å —Ç–µ–∫—É—â–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ (lat, lng, theme)
- [ ] –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ñ–æ—Ä–º–µ –æ–±–Ω–æ–≤–ª—è—é—Ç preview –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### üì¶ Deliverables
- `admin/src/pages/widgets/preview.tsx`
- –ö–Ω–æ–ø–∫–∞ –≤ `edit.tsx`

### ‚è±Ô∏è Estimate
5 —á–∞—Å–æ–≤

### üîó Dependencies
- Blocked by: #402

### üèÅ Definition of Done
- [ ] Preview —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –í–∏–¥–∂–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] Commit –≤ git
```

---

#### Issue #405: CRUD –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤
**Labels**: `üì¶ mvp` `üë§ admin` `üî¥ critical`

```markdown
## üë• CRUD –¥–ª—è –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤

### üìã Description
–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ä—Ç–Ω—ë—Ä–∞–º–∏: email, domain, affiliate IDs

### üéØ Acceptance Criteria
- [ ] –°–æ–∑–¥–∞–Ω–∞ –ø–∞–ø–∫–∞ `admin/src/pages/partners/`
- [ ] –°–ø–∏—Å–æ–∫ –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤: —Ç–∞–±–ª–∏—Ü–∞ (email, name, domain, active)
- [ ] –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è: email, name, domain, bookingAffiliateId, expediaAffiliateId
- [ ] –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞—é—Ç

### üì¶ Deliverables
- `admin/src/pages/partners/list.tsx`
- `admin/src/pages/partners/create.tsx`
- `admin/src/pages/partners/edit.tsx`

### ‚è±Ô∏è Estimate
5 —á–∞—Å–æ–≤

### üîó Dependencies
- Blocked by: #301

### üèÅ Definition of Done
- [ ] CRUD –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
- [ ] Commit –≤ git
```

---

#### Issue #406: –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
**Labels**: `üì¶ mvp` `üë§ admin` `üü° high`

```markdown
## üìä –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏: —Ç–∞–±–ª–∏—Ü–∞ –∫–ª–∏–∫–æ–≤

### üìã Description
–ü—Ä–æ—Å—Ç–∞—è —Ç–∞–±–ª–∏—Ü–∞ –≤—Å–µ—Ö –∫–ª–∏–∫–æ–≤ –ø–æ affiliate —Å—Å—ã–ª–∫–∞–º

### üéØ Acceptance Criteria
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ `/analytics` –≤ –∞–¥–º–∏–Ω–∫–µ
- [ ] –¢–∞–±–ª–∏—Ü–∞: –¥–∞—Ç–∞, –≤–∏–¥–∂–µ—Ç, –æ—Ç–µ–ª—å, OTA, —Ü–µ–Ω–∞, –ø–∞—Ä—Ç–Ω—ë—Ä
- [ ] –§–∏–ª—å—Ç—Ä –ø–æ –¥–∞—Ç–µ (date range picker)
- [ ] –ü–∞–≥–∏–Ω–∞—Ü–∏—è (50 –∫–ª–∏–∫–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É)

### üì¶ Deliverables
- `admin/src/pages/analytics/dashboard.tsx`

### ‚è±Ô∏è Estimate
6 —á–∞—Å–æ–≤

### üîó Dependencies
- Blocked by: #307

### üèÅ Definition of Done
- [ ] –¢–∞–±–ª–∏—Ü–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- [ ] –§–∏–ª—å—Ç—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] Commit –≤ git
```

---

#### Issue #407: –ú–µ—Ç—Ä–∏–∫–∏: –∫–ª–∏–∫–∏, CTR, –ø–æ –≤–∏–¥–∂–µ—Ç–∞–º
**Labels**: `üì¶ mvp` `üë§ admin` `üü° high`

```markdown
## üìà –ú–µ—Ç—Ä–∏–∫–∏: –≤—Å–µ–≥–æ –∫–ª–∏–∫–æ–≤, CTR, breakdown –ø–æ –≤–∏–¥–∂–µ—Ç–∞–º

### üìã Description
Dashboard —Å –æ—Å–Ω–æ–≤–Ω—ã–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏

### üéØ Acceptance Criteria
- [ ] –ö–∞—Ä—Ç–æ—á–∫–∏: "–í—Å–µ–≥–æ –∫–ª–∏–∫–æ–≤", "–í—Å–µ–≥–æ –≤–∏–¥–∂–µ—Ç–æ–≤", "–°—Ä–µ–¥–Ω–∏–π CTR"
- [ ] –ì—Ä–∞—Ñ–∏–∫ –∫–ª–∏–∫–æ–≤ –ø–æ –¥–Ω—è–º (last 30 days)
- [ ] –¢–∞–±–ª–∏—Ü–∞: —Ç–æ–ø-10 –≤–∏–¥–∂–µ—Ç–æ–≤ –ø–æ –∫–ª–∏–∫–∞–º

### üì¶ Deliverables
- –û–±–Ω–æ–≤–ª—ë–Ω `dashboard.tsx`
- API endpoint: `GET /api/analytics/stats`

### ‚è±Ô∏è Estimate
4 —á–∞—Å–∞

### üîó Dependencies
- Blocked by: #406

### üèÅ Definition of Done
- [ ] –ú–µ—Ç—Ä–∏–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
- [ ] –ì—Ä–∞—Ñ–∏–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Commit –≤ git
```

---

## üß™ Testing & QA (MVP)

#### Epic #5: Testing & Integration
**Labels**: `üöÄ epic` `üì¶ mvp` `üß™ testing` `üü° high`  
**Timeline**: 2-3 –¥–Ω—è

#### Issue #501: E2E —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∏–¥–∂–µ—Ç–∞
**Labels**: `üì¶ mvp` `üß™ testing` `üî¥ critical`

```markdown
## üß™ E2E —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∏–¥–∂–µ—Ç–∞ –Ω–∞ —Ç–µ—Å—Ç–æ–≤–æ–º —Å–∞–π—Ç–µ

### üìã Description
–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ –≤–∏–¥–∂–µ—Ç–∞ –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º —Å–∞–π—Ç–µ

### üéØ Acceptance Criteria
- [ ] –°–æ–∑–¥–∞–Ω —Ç–µ—Å—Ç–æ–≤—ã–π HTML —Ñ–∞–π–ª `tests/e2e/test-site.html`
- [ ] –í–∏–¥–∂–µ—Ç –≤—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ iframe
- [ ] –í–∏–¥–∂–µ—Ç –≤—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ JS script
- [ ] –ö–ª–∏–∫ –Ω–∞ "–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å" –≤–µ–¥—ë—Ç –Ω–∞ Booking
- [ ] Affiliate ID –≤ URL –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π

### üì¶ Deliverables
- `tests/e2e/test-site.html`
- `tests/e2e/widget.spec.ts` (Playwright)

### ‚è±Ô∏è Estimate
6 —á–∞—Å–æ–≤

### üèÅ Definition of Done
- [ ] E2E —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] –í–∏–¥–∂–µ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –æ–±–æ–∏—Ö —Ä–µ–∂–∏–º–∞—Ö
- [ ] Commit –≤ git
```

---

#### Issue #502: Unit —Ç–µ—Å—Ç—ã API endpoints
**Labels**: `üì¶ mvp` `üß™ testing` `üü° high`

```markdown
## üß™ Unit —Ç–µ—Å—Ç—ã –¥–ª—è API endpoints

### üìã Description
–ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è /search –∏ /track-click

### üéØ Acceptance Criteria
- [ ] –¢–µ—Å—Ç: POST /api/accommodation/search ‚Üí 200 OK
- [ ] –¢–µ—Å—Ç: –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (lat, lng)
- [ ] –¢–µ—Å—Ç: POST /api/affiliate/track-click ‚Üí —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î
- [ ] Coverage > 70%

### üì¶ Deliverables
- `backend/tests/unit/accommodation/search.test.ts`
- `backend/tests/unit/affiliate/track.test.ts`

### ‚è±Ô∏è Estimate
8 —á–∞—Å–æ–≤

### üèÅ Definition of Done
- [ ] –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] Coverage > 70%
- [ ] Commit –≤ git
```

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

#### Issue #601: API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
**Labels**: `üì¶ mvp` `üìö docs` `üü¢ medium`

```markdown
## üìñ API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (OpenAPI/Swagger)

### üìã Description
–°–æ–∑–¥–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –¥–ª—è –≤—Å–µ—Ö API endpoints

### üéØ Acceptance Criteria
- [ ] –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `docs/ACCOMMODATION-API.md`
- [ ] –û–ø–∏—Å–∞–Ω—ã –≤—Å–µ endpoints —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏
- [ ] Request/Response —Å—Ö–µ–º—ã
- [ ] –ö–æ–¥—ã –æ—à–∏–±–æ–∫

### üì¶ Deliverables
- `docs/ACCOMMODATION-API.md`

### ‚è±Ô∏è Estimate
4 —á–∞—Å–∞

### üèÅ Definition of Done
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞–ø–∏—Å–∞–Ω–∞
- [ ] –ü—Ä–∏–º–µ—Ä—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
- [ ] Commit –≤ git
```

---

#### Issue #602: –ì–∞–π–¥ –ø–æ –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏—é –≤–∏–¥–∂–µ—Ç–∞
**Labels**: `üì¶ mvp` `üìö docs` `üü¢ medium`

```markdown
## üìñ –ì–∞–π–¥ –¥–ª—è –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤: –∫–∞–∫ –≤—Å—Ç—Ä–æ–∏—Ç—å –≤–∏–¥–∂–µ—Ç

### üìã Description
–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ —Å–∞–π—Ç–æ–≤ –ø–æ –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏—é –≤–∏–¥–∂–µ—Ç–∞

### üéØ Acceptance Criteria
- [ ] –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `docs/WIDGET-EMBEDDING.md`
- [ ] –ü—Ä–∏–º–µ—Ä—ã iframe –∏ JS
- [ ] –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- [ ] FAQ (CORS, –ø—Ä–æ–±–ª–µ–º—ã —Å –∑–∞–≥—Ä—É–∑–∫–æ–π)

### üì¶ Deliverables
- `docs/WIDGET-EMBEDDING.md`

### ‚è±Ô∏è Estimate
3 —á–∞—Å–∞

### üèÅ Definition of Done
- [ ] –ì–∞–π–¥ –Ω–∞–ø–∏—Å–∞–Ω
- [ ] –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] Commit –≤ git
```

---

## üéâ –ò—Ç–æ–≥–æ: MVP Issues

**PoC**: 5 issues (23 —á–∞—Å–∞)  
**Frontend Widget**: 10 issues (51 —á–∞—Å)  
**Backend API**: 8 issues (42 —á–∞—Å–∞)  
**Admin Dashboard**: 7 issues (32 —á–∞—Å–∞)  
**Testing**: 5 issues (24 —á–∞—Å–∞)  
**Docs**: 2 issues (7 —á–∞—Å–æ–≤)

**TOTAL MVP**: 37 issues, 179 —á–∞—Å–æ–≤ ‚âà **18-22 —Ä–∞–±–æ—á–∏—Ö –¥–Ω—è**

---

## üìå –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Issues

1. **–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π Issue** –≤ GitHub Issues –≤–∞—à–µ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. **–ü—Ä–∏—Å–≤–æ–∏—Ç—å labels** (—Å–æ–∑–¥–∞—Ç—å –∏—Ö –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ)
3. **Assign** —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º
4. **Milestone**: "MVP Release" –∏–ª–∏ "v1 Release"
5. **Linking**: Epic issues —Å–≤—è–∑–∞—Ç—å —Å child issues —á–µ—Ä–µ–∑ "Blocked by #XXX"

### –°–æ–∑–¥–∞–Ω–∏–µ Labels –≤ GitHub

```bash
# Critical Path
gh label create "üî¥ critical" --color d73a4a --description "Critical priority"
gh label create "üü° high" --color fbca04 --description "High priority"
gh label create "üü¢ medium" --color 0e8a16 --description "Medium priority"

# Stages
gh label create "üì¶ poc" --color 1d76db --description "PoC stage"
gh label create "üì¶ mvp" --color 0052cc --description "MVP stage"
gh label create "üì¶ v1" --color 5319e7 --description "v1 stage"

# Categories
gh label create "üé® frontend" --color c5def5 --description "Frontend task"
gh label create "‚öôÔ∏è backend" --color bfd4f2 --description "Backend task"
gh label create "üë§ admin" --color d4c5f9 --description "Admin panel"
gh label create "üß™ testing" --color ffffff --description "Testing task"
gh label create "üìö docs" --color ededed --description "Documentation"
gh label create "ü§ñ ai" --color ff6b6b --description "AI/ML component"
gh label create "üí∞ affiliate" --color ffd93d --description "Affiliate tracking"
gh label create "üó∫Ô∏è map" --color 6bcf7f --description "Map widget"
gh label create "üöÄ epic" --color b60205 --description "Epic (multiple issues)"
```

---

**–ì–æ—Ç–æ–≤–æ!** üéâ –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å Issues –∏ –Ω–∞—á–∏–Ω–∞—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É.
