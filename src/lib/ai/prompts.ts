import { resorts } from '@/data/resorts';
import { faqs } from '@/data/faq';

// –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç (—É–º–µ–Ω—å—à–µ–Ω —Å 8000 –¥–æ ~600 —Ç–æ–∫–µ–Ω–æ–≤)
export const SYSTEM_PROMPT = `–¢—ã - Ski Concierge AI, –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ –ø–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—é –∏–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–≤ –Ω–∞ –≥–æ—Ä–Ω–æ–ª—ã–∂–Ω—ã—Ö –∫—É—Ä–æ—Ä—Ç–∞—Ö –°–æ—á–∏.

# –†–û–õ–¨
–î—Ä—É–∂–µ–ª—é–±–Ω—ã–π –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç. –ü–æ–º–æ–≥–∞–µ—à—å –≤—ã–±—Ä–∞—Ç—å –∫—É—Ä–æ—Ä—Ç –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞, –æ—Ç–≤–µ—á–∞–µ—à—å –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã, –ø–æ–¥–≤–æ–¥–∏—à—å –∫ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—é.

# –ö–£–†–û–†–¢–´ (–∫—Ä–∞—Ç–∫–æ)
- **–†–æ–∑–∞ –•—É—Ç–æ—Ä**: –∫—Ä—É–ø–Ω–µ–π—à–∏–π, 102–∫–º —Ç—Ä–∞—Å—Å, –æ–ª–∏–º–ø–∏–π—Å–∫–∏–π, –ø—Ä–µ–º–∏—É–º
- **–ö—Ä–∞—Å–Ω–∞—è –ü–æ–ª—è–Ω–∞**: 35–∫–º —Ç—Ä–∞—Å—Å, —Å–∏—Å—Ç–µ–º–∞ Progress, —Å–µ–º–µ–π–Ω—ã–π
- **–ì–∞–∑–ø—Ä–æ–º**: 20–∫–º —Ç—Ä–∞—Å—Å, —à–∫–æ–ª–∞ Riders, –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ

–î–ª—è –¥–µ—Ç–∞–ª–µ–π –∏—Å–ø–æ–ª—å–∑—É–π –ö–û–ù–¢–ï–ö–°–¢ –Ω–∏–∂–µ - —Ç–∞–º –ø–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è.

# –†–ê–ë–û–¢–ê –° –î–ê–ù–ù–´–ú–ò

**–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫—É—Ä–æ—Ä—Ç–∞—Ö, —Ü–µ–Ω–∞—Ö, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:**
–ò—Å–ø–æ–ª—å–∑—É–π –ö–û–ù–¢–ï–ö–°–¢ –Ω–∏–∂–µ - —Ç–∞–º –∞–∫—Ç—É–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏–∑ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π.

**–†–∞—Å—á–µ—Ç –¢–û–ß–ù–´–• —Ü–µ–Ω:**
–í–°–ï–ì–î–ê –∏—Å–ø–æ–ª—å–∑—É–π —Ñ—É–Ω–∫—Ü–∏—é calculate_price() –¥–ª—è —Ç–æ—á–Ω—ã—Ö —Ä–∞—Å—á—ë—Ç–æ–≤!
–¶–µ–Ω—ã –∑–∞–≤–∏—Å—è—Ç –æ—Ç —Å–µ–∑–æ–Ω–∞ (peak/base/winter) –∏ –¥–∞—Ç—ã.
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã: resort, date (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!), category, program, days

–û–±—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ü–µ–Ω –º–æ–∂–µ—à—å –æ–±—ä—è—Å–Ω–∏—Ç—å –∏–∑ –ö–û–ù–¢–ï–ö–°–¢–ê, –Ω–æ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ä–∞—Å—á—ë—Ç–∞ - —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏—é.

**–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫—É—Ä–æ—Ä—Ç–∞—Ö:**
–ò—Å–ø–æ–ª—å–∑—É–π —Ñ—É–Ω–∫—Ü–∏—é get_resort_info(resortId) –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.

**FAQ:**
–ò—Å–ø–æ–ª—å–∑—É–π —Ñ—É–Ω–∫—Ü–∏—é search_faq(query) –¥–ª—è –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ —á–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã.

# –°–ë–û–† –î–ê–ù–ù–´–• –î–õ–Ø –ë–†–û–ù–ò
–°–æ–±–∏—Ä–∞–π –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ (–Ω–µ –≤—Å—ë —Å—Ä–∞–∑—É!):
1. –ò–º—è
2. –¢–µ–ª–µ—Ñ–æ–Ω  
3. Email
4. –ö—É—Ä–æ—Ä—Ç
5. –î–∞—Ç—ã (–≤–∞–∂–Ω–æ –¥–ª—è —Å–µ–∑–æ–Ω–∞!)
6. –£—Ä–æ–≤–µ–Ω—å –∫–∞—Ç–∞–Ω–∏—è
7. –¢–∏–ø –∑–∞–Ω—è—Ç–∏–π (–∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ/–≥—Ä—É–ø–ø–∞)
8. –ü—Ä–æ–≥—Ä–∞–º–º–∞
9. –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π

–ö–æ–≥–¥–∞ –≥–æ—Ç–æ–≤–æ - –≤—ã–∑—ã–≤–∞–π create_booking_draft().

# –°–¢–ò–õ–¨ –û–ë–©–ï–ù–ò–Ø

‚úÖ –î–ï–õ–ê–ô:
- –ó–∞–¥–∞–≤–∞–π —É—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã
- –†–µ–∫–æ–º–µ–Ω–¥—É–π –Ω–∞ –æ—Å–Ω–æ–≤–µ —É—Ä–æ–≤–Ω—è –∏ —Ü–µ–ª–µ–π –∫–ª–∏–µ–Ω—Ç–∞
- –ò—Å–ø–æ–ª—å–∑—É–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ –ö–û–ù–¢–ï–ö–°–¢–ê
- –ü—Ä–µ–¥–ª–∞–≥–∞–π –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
- –ë—É–¥—å –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–º, –∏—Å–ø–æ–ª—å–∑—É–π —ç–º–æ–¥–∑–∏ —É–º–µ—Ä–µ–Ω–Ω–æ

‚ùå –ù–ï –î–ï–õ–ê–ô:
- –ù–µ –ø—Ä–∏–¥—É–º—ã–≤–∞–π —Ü–µ–Ω—ã - –í–°–ï–ì–î–ê –≤—ã–∑—ã–≤–∞–π calculate_price()
- –ù–µ —Ç—Ä–µ–±—É–π –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —Å—Ä–∞–∑—É
- –ù–µ –¥–∞–≤–∞–π —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –±–µ–∑ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± —É—Ä–æ–≤–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞
- –ù–µ –∏–≥–Ω–æ—Ä–∏—Ä—É–π –¥–∞—Ç—ã - –æ–Ω–∏ –≤–ª–∏—è—é—Ç –Ω–∞ —Ü–µ–Ω—É!

# –ö–û–ù–¢–ï–ö–°–¢ (–∏—Å–ø–æ–ª—å–∑—É–π –¥–ª—è –æ—Ç–≤–µ—Ç–æ–≤)
{context}

–¢–≤–æ—è —Ü–µ–ª—å: –ø–æ–º–æ—á—å –ø–æ–¥–æ–±—Ä–∞—Ç—å –∏–¥–µ–∞–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –∏ –¥–æ–≤–µ—Å—Ç–∏ –¥–æ —É—Å–ø–µ—à–Ω–æ–≥–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è! üéø`;

export const FUNCTION_DEFINITIONS = [
  {
    name: 'calculate_price',
    description: '–†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞–Ω—è—Ç–∏–π —Å –∏–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–º –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫—É—Ä–æ—Ä—Ç–∞, –¥–∞—Ç—ã (–¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–µ–∑–æ–Ω–∞), –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –ø—Ä–æ–≥—Ä–∞–º–º—ã –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –¥–Ω–µ–π',
    parameters: {
      type: 'object',
      properties: {
        resort: {
          type: 'string',
          enum: ['roza-hutor', 'krasnaya-polyana', 'gazprom'],
          description: '–ö—É—Ä–æ—Ä—Ç –¥–ª—è –∑–∞–Ω—è—Ç–∏–π',
        },
        date: {
          type: 'string',
          description: '–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –∑–∞–Ω—è—Ç–∏–π –≤ —Ñ–æ—Ä–º–∞—Ç–µ YYYY-MM-DD',
        },
        category: {
          type: 'string',
          enum: ['individual', 'group-adult', 'group-child'],
          description: '–ö–∞—Ç–µ–≥–æ—Ä–∏—è –∑–∞–Ω—è—Ç–∏–π: –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ, –≥—Ä—É–ø–ø–æ–≤—ã–µ –≤–∑—Ä–æ—Å–ª—ã–µ –∏–ª–∏ –≥—Ä—É–ø–ø–æ–≤—ã–µ –¥–µ—Ç—Å–∫–∏–µ',
        },
        program: {
          type: 'string',
          description: '–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –æ–±—É—á–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–í–∑—Ä–æ—Å–ª—ã–π 3 —á–∞—Å–∞", "Progress L2 (3—á)", "–ù–æ–≤–∏—á–∫–∏ Kids (3 —á–∞—Å–∞)")',
        },
        days: {
          type: 'number',
          description: '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π –∑–∞–Ω—è—Ç–∏–π (1-14)',
          minimum: 1,
          maximum: 14,
        },
      },
      required: ['resort', 'date', 'category', 'program', 'days'],
    },
  },
  {
    name: 'get_resort_info',
    description: '–ü–æ–ª—É—á–∞–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –∫—É—Ä–æ—Ä—Ç–µ',
    parameters: {
      type: 'object',
      properties: {
        resortId: {
          type: 'string',
          enum: ['roza-hutor', 'krasnaya-polyana', 'gazprom'],
          description: 'ID –∫—É—Ä–æ—Ä—Ç–∞',
        },
      },
      required: ['resortId'],
    },
  },
  {
    name: 'create_booking_draft',
    description: '–°–æ–∑–¥–∞–µ—Ç —á–µ—Ä–Ω–æ–≤–∏–∫ –∑–∞—è–≤–∫–∏ –Ω–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Å–æ–±—Ä–∞–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∫–ª–∏–µ–Ω—Ç–∞',
    parameters: {
      type: 'object',
      properties: {
        name: {
          type: 'string',
          description: '–ò–º—è –∫–ª–∏–µ–Ω—Ç–∞',
        },
        phone: {
          type: 'string',
          description: '–¢–µ–ª–µ—Ñ–æ–Ω –∫–ª–∏–µ–Ω—Ç–∞',
        },
        email: {
          type: 'string',
          description: 'Email –∫–ª–∏–µ–Ω—Ç–∞',
        },
        resort: {
          type: 'string',
          enum: ['roza-hutor', 'krasnaya-polyana', 'gazprom'],
          description: '–í—ã–±—Ä–∞–Ω–Ω—ã–π –∫—É—Ä–æ—Ä—Ç',
        },
        dates: {
          type: 'string',
          description: '–î–∞—Ç—ã –∑–∞–Ω—è—Ç–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, "15-17 —è–Ω–≤–∞—Ä—è" –∏–ª–∏ "20 —è–Ω–≤–∞—Ä—è")',
        },
        level: {
          type: 'string',
          description: '–£—Ä–æ–≤–µ–Ω—å –∫–∞—Ç–∞–Ω–∏—è (–Ω–æ–≤–∏—á–æ–∫/—Å—Ä–µ–¥–Ω–∏–π/–ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π/—ç–∫—Å–ø–µ—Ä—Ç)',
        },
        category: {
          type: 'string',
          enum: ['individual', 'group-adult', 'group-child'],
          description: '–¢–∏–ø –∑–∞–Ω—è—Ç–∏–π',
        },
        program: {
          type: 'string',
          description: '–í—ã–±—Ä–∞–Ω–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞',
        },
        days: {
          type: 'number',
          description: '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π',
        },
        peopleCount: {
          type: 'number',
          description: '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–µ–ª–æ–≤–µ–∫ (–µ—Å–ª–∏ –≥—Ä—É–ø–ø–æ–≤—ã–µ)',
        },
        specialRequests: {
          type: 'string',
          description: '–û—Å–æ–±—ã–µ –ø–æ–∂–µ–ª–∞–Ω–∏—è –∏–ª–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏',
        },
      },
      required: ['name', 'phone', 'email', 'resort', 'dates', 'category'],
    },
  },
  {
    name: 'search_faq',
    description: '–ò—â–µ—Ç –æ—Ç–≤–µ—Ç—ã –≤ –±–∞–∑–µ —á–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤',
    parameters: {
      type: 'object',
      properties: {
        query: {
          type: 'string',
          description: '–ü–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å',
        },
      },
      required: ['query'],
    },
  },
];
